"use strict";(self.webpackChunkecom=self.webpackChunkecom||[]).push([[8776],{78776:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var l=a(11504),n=a.n(l),r=a(36484),c=a(83284),o=a(17268),s=a(96800),i=a(66564),d=a(85704),u=a(89340),m=a(60580),p=a(85976),v=a(76542),g=a(15896),f=a(38467);const h=e=>{var t,a,l,r,c;let{orderData:o}=e;const s=(0,p.U)(),i=null==o||null===(t=o.shipping)||void 0===t?void 0:t.toFixed(2),{ConvertCurrency:d}=(0,f.c)();return n().createElement("div",{className:"col-lg-12"},n().createElement("div",{className:"Drones-product-summery !bg-[#fff]"},n().createElement("div",{className:"col-md-12"},n().createElement("div",{className:"Drones-product-summery-sub1"},n().createElement("h3",null,"Summary"),n().createElement("h5",null,"Esytimate Shipping and Tax"),n().createElement("span",null,"Enter your destination to get a shipping estimate."))),n().createElement("div",null,n().createElement("div",{className:"Drones-product-summery-sub2"},n().createElement("h5",null,"Apply Discount Code"),n().createElement("hr",null),n().createElement("div",{className:"col-md-12"},n().createElement("div",{className:"Drones-Product-subtotal"},n().createElement("strong",null,"Subtotal"),n().createElement("p",null,null==s||null===(a=s.currency)||void 0===a?void 0:a.Symbol," ",d(null==o?void 0:o.subTotalPrice)))),n().createElement("div",{className:"col-md-12"},n().createElement("div",{className:"Drones-Product-shipping"},n().createElement("div",{className:"Drones-Product-shipping-sub"},n().createElement("strong",null,"Shipping"),n().createElement("br",null),n().createElement("span",null,"(Standard Rate - Price may vary depending on the item/destination. TECS Staff will contact you.)")),n().createElement("p",null,null==s||null===(l=s.currency)||void 0===l?void 0:l.Symbol," ",d(i)))),n().createElement("div",{className:"col-md-12"},n().createElement("div",{className:"Drones-Product-tax"},n().createElement("strong",null,"Discount"),n().createElement("p",null,d(null==o?void 0:o.discountPrice)?"".concat(null==s||null===(r=s.currency)||void 0===r?void 0:r.Symbol)+d(o.discountPrice):"-"))),n().createElement("div",{className:"col-md-12"},n().createElement("div",{className:"Drones-Product-order-total"},n().createElement("strong",null,"Order Total"),n().createElement("p",null,null==s||null===(c=s.currency)||void 0===c?void 0:c.Symbol," ",d(null==o?void 0:o.totalPrice)))),n().createElement("br",null),n().createElement("div",{className:"col-md-12 Drones-product-summery-end"},n().createElement("div",{className:"Drones-product-summery-end-image"},n().createElement("img",{src:"/DronesHomepage/primary 1.png",alt:""})),n().createElement("p",null,"own it now, up to 6 months interest free learn more"))))))},E=e=>{var t,a,l,r,c,s,i,u,m,p;let{user:f,open:h,setOpen:E,onApprove:x,createOrder:b,paymentHandler:y,cashOnDeliveryHandler:N,handleRazorPayProcess:w,select:S,handleChange:C,styles:D,btnLoading:P}=e;const I="INR"===(O=null==D||null===(t=D.currency)||void 0===t?void 0:t.code)?null==D||null===(_=D.paymentMethods)||void 0===_?void 0:_.INR:"USD"===O?null==D||null===(k=D.paymentMethods)||void 0===k?void 0:k.USD:null==D||null===(F=D.paymentMethods)||void 0===F?void 0:F.EUR;var O,_,k,F;return n().createElement(n().Fragment,null,(null==I?void 0:I.length)>0&&n().createElement("div",{className:"w-full 800px:w-[95%] bg-[#fff] rounded-md p-5 pb-8"},(null==I?void 0:I.includes("Stripe"))&&n().createElement("div",null,n().createElement("div",{className:"flex w-full pb-5 border-b mb-2"},n().createElement("div",{className:"w-[25px] h-[25px] rounded-full bg-transparent border-[3px] border-[#1d1a1ab4] relative flex items-center justify-center",onClick:e=>C(e,1)},1===S?n().createElement("div",{className:"w-[13px] h-[13px] bg-[#1d1a1acb] rounded-full"}):null),n().createElement("h4",{className:"text-[18px] pl-2 font-[600] text-[#000000b1]"},"Pay with Debit/credit card"))),n().createElement("br",null),I.includes("PayPal")&&n().createElement("div",null,n().createElement("div",{className:"flex w-full pb-3 mb-2"},n().createElement("div",{className:"w-[25px] h-[25px] rounded-full bg-transparent border-[3px] border-[#1d1a1ab4] relative flex items-center justify-center",onClick:e=>C(e,2)},2===S?n().createElement("div",{className:"w-[13px] h-[13px] bg-[#1d1a1acb] rounded-full"}):null),n().createElement("h4",{className:"text-[18px] pl-2 font-[600] text-[#000000b1]"},"Pay with Paypal")),2===S?n().createElement("div",{className:"w-full flex border-b"},n().createElement("div",{className:"px-4 flex payment-btn bg-[#fa8232] items-center mb-2 h-[45px] rounded-[5px] cursor-pointer text-[18px] font-[600]",onClick:()=>!P&&E(!0)},P?"Loading...":"Pay Now"),h&&n().createElement("div",{className:"w-full fixed top-0 left-0 bg-[#00000039] h-screen flex items-center justify-center z-[99999]"},n().createElement("div",{className:"w-full 800px:w-[40%] h-screen 800px:h-[80vh] bg-white rounded-[5px] shadow flex flex-col justify-center p-8 relative overflow-y-scroll"},n().createElement("div",{className:"w-full flex justify-end p-3"},n().createElement(v.u,{icon:g.gxQ,className:"cursor-pointer absolute top-3 right-3",onClick:()=>E(!1)})),n().createElement(o.s5,{options:{"client-id":"".concat(d.WM),currency:D.currency.code}},n().createElement(o.CM,{style:{layout:"vertical"},onApprove:x,createOrder:b}))))):null),n().createElement("br",null),I.includes("RazorPay")&&n().createElement("div",null,n().createElement("div",{className:"flex w-full pb-3 mb-2"},n().createElement("div",{className:"w-[25px] h-[25px] rounded-full bg-transparent border-[3px] border-[#1d1a1ab4] relative flex items-center justify-center",onClick:e=>C(e,4)},4===S?n().createElement("div",{className:"w-[13px] h-[13px] bg-[#1d1a1acb] rounded-full"}):null),n().createElement("h4",{className:"text-[18px] pl-2 font-[600] text-[#000000b1]"},"Pay with RazorPay")),4===S?n().createElement("div",{className:"w-full flex border-b"},n().createElement("div",{className:"px-4 flex items-center mb-2 h-[45px] rounded-[5px] cursor-pointer text-[18px] font-[600] bg-[#fa8232]",onClick:P&&w,style:{backgroundColor:null==D?void 0:D.mainColor,color:null!=D&&null!==(a=D.fontColor)&&void 0!==a&&a.toggleBtnFont?null==D||null===(l=D.fontColor)||void 0===l?void 0:l.fontColorPicker:null==D||null===(r=D.fontColor)||void 0===r?void 0:r.fontColor}},P?"Loading...":"Pay Now"),h&&n().createElement("div",{className:"w-full fixed top-0 left-0 bg-[#00000039] h-screen flex items-center justify-center z-[99999]"},n().createElement("div",{className:"w-full 800px:w-[40%] h-screen 800px:h-[80vh] bg-white rounded-[5px] shadow flex flex-col justify-center p-8 relative overflow-y-scroll"},n().createElement("div",{className:"w-full flex justify-end p-3"},n().createElement(v.u,{icon:g.gxQ,className:"cursor-pointer absolute top-3 right-3",onClick:()=>E(!1)})),n().createElement(o.s5,{options:{"client-id":"".concat(d.WM)}},n().createElement(o.CM,{style:{layout:"vertical"},onApprove:x,createOrder:b}))))):null),n().createElement("br",null),I.includes("COD")&&n().createElement("div",null,n().createElement("div",{className:"flex w-full pb-3  mb-2"},n().createElement("div",{className:"w-[25px] h-[25px] rounded-full bg-transparent border-[3px] border-[#1d1a1ab4] relative flex items-center justify-center",onClick:e=>C(e,3)},3===S?n().createElement("div",{className:"w-[13px] h-[13px] bg-[#1d1a1acb] rounded-full"}):null),n().createElement("h4",{className:"text-[18px] pl-2 font-[600] text-[#000000b1]"},"Cash on Delivery")),3===S?n().createElement("div",{className:"w-full flex"},n().createElement("form",{className:"w-full",onSubmit:N},P?n().createElement("button",{className:"px-4 flex items-center mb-2 h-[45px] rounded-[5px] cursor-pointer text-[18px] font-[600] bg-[#fa8232]",style:{backgroundColor:null==D?void 0:D.mainColor,color:null!=D&&null!==(c=D.fontColor)&&void 0!==c&&c.toggleBtnFont?null==D||null===(s=D.fontColor)||void 0===s?void 0:s.fontColorPicker:null==D||null===(i=D.fontColor)||void 0===i?void 0:i.fontColor}},"Loading..."):n().createElement("button",{type:"submit",className:"px-4 flex items-center mb-2 h-[45px] rounded-[5px] cursor-pointer text-[18px] font-[600] bg-[#fa8232]",style:{backgroundColor:null==D?void 0:D.mainColor,color:null!=D&&null!==(u=D.fontColor)&&void 0!==u&&u.toggleBtnFont?null==D||null===(m=D.fontColor)||void 0===m?void 0:m.fontColorPicker:null==D||null===(p=D.fontColor)||void 0===p?void 0:p.fontColor}},"Submit"))):null)))},x=()=>{const[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)(!1),{user:o}=(0,s.w1)((e=>e.user)),v=(0,c.i6)(),{ConvertCurrency:g}=(0,f.c)(),[x,b]=(0,l.useState)(1),[y,N]=(0,l.useState)(!1),[w,S]=(0,l.useState)(!1),C=(0,p.U)();(0,l.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("latestOrder"));e?t(e):v("/products?search=allproducts")}),[v]);const D={cart:null==e?void 0:e.cart,cod:null==e?void 0:e.cod,sellerCart:null==e?void 0:e.sellerCart,shippingAddress:null==e?void 0:e.shippingAddress,BillingAddress:null==e?void 0:e.BillingAddress,shipping_is_billing:null==e?void 0:e.shipping_is_billing,user:o&&o,totalPrice:null==e?void 0:e.totalPrice,shipping:null==e?void 0:e.shipping,discountPrice:null==e?void 0:e.discountPrice,subTotalPrice:null==e?void 0:e.subTotalPrice},P={amount:Math.round(g(100*(null==e?void 0:e.totalPrice)))};return n().createElement(n().Fragment,null,y?n().createElement(m.c,null):n().createElement("div",{className:"w-full flex flex-col items-center py-8"},n().createElement("div",{className:"w-[90%] 1000px:w-[70%] flex gap-6 800px:flex"},n().createElement("div",{className:"w-[60%] 800px:w-[65%]"},n().createElement(E,{user:o,open:a,setOpen:r,onApprove:async(e,t)=>t.order.capture().then((function(e){const{payer:t}=e;void 0!==t&&(async e=>{D.paymentInfo={id:e.payer_id,status:"succeeded",type:"Paypal"},await i.c.post("".concat(d.Yb,"/order/create-order"),D,{headers:{"Content-Type":"application/json"}}).then((e=>{r(!1),v("/order/success"),u.cp.success("Order successful!"),localStorage.setItem("cartItems",JSON.stringify([])),localStorage.setItem("latestOrder",JSON.stringify([])),window.location.reload()}))})(t)})),createOrder:(t,a)=>a.order.create({purchase_units:[{description:"New Order",amount:{currency_code:"".concat(C.currency.code),value:g(null==e?void 0:e.totalPrice)}}],application_context:{shipping_preference:"NO_SHIPPING"}}).then((e=>e)),paymentHandler:async e=>{e.preventDefault()},cashOnDeliveryHandler:async e=>{e.preventDefault(),S(!0),D.paymentInfo={type:"Cash On Delivery"},await i.c.post("".concat(d.Yb,"/order/create-order"),D,{headers:{"Content-Type":"application/json"}}).then((e=>{r(!1),v("/order/success"),u.cp.success("Order successful!"),localStorage.setItem("cartItems",JSON.stringify([])),localStorage.setItem("latestOrder",JSON.stringify([])),window.location.reload()})).catch((e=>{u.cp.error(e)})).finally((()=>{S(!1)}))},handleRazorPayProcess:async e=>{e.preventDefault();try{const e={headers:{"Content-Type":"application/json"}};S(!0);const{data:t}=await i.c.post("".concat(d.Yb,"/payment/razorpay"),P,e),{id:a,amount:l,currency:n}=t,c={key:d.gZ,amount:l,currency:n,name:"Hirola Infotech Solutions",description:"Payment for a product",order_id:a,handler:function(e){i.c.post("".concat(d.Yb,"/payment/razorpay-verification"),{response:e,amount:l}).then((t=>{if("Success"===t.data.Status){const t={headers:{"Content-Type":"application/json"}};D.paymentInfo={id:e.razorpay_payment_id,status:"succeeded",type:"RazorPay"},i.c.post("".concat(d.Yb,"/order/create-order"),D,t).then((e=>{r(!1),v("/order/success"),u.cp.success("Order successful!"),localStorage.setItem("cartItems",JSON.stringify([])),localStorage.setItem("latestOrder",JSON.stringify([])),window.location.reload()}))}else alert("Payment Failed")})).catch((e=>{console.log(e)}))},prefill:{name:"John Doe",email:"john.doe@example.com",contact:"1234567890"},notes:{address:"123, Main Street"},theme:{color:"#3399cc"}};new window.Razorpay(c).open(),S(!1)}catch(e){S(!1),u.cp.error(e)}},select:x,handleChange:async(a,l)=>{a.preventDefault(),b(l);let n={...e};n.cod=3===l?1:0;try{N(!0);const{data:e}=await i.c.post("".concat(d.Yb,"/shipping/get-shippingCharge"),n),a=e.responseData;t(a),N(!1)}catch(e){console.log(e)}},styles:C,btnLoading:w})),n().createElement("div",{className:"w-[38%] 800px:w-[35%] 800px:mt-0 mt-8"},n().createElement(h,{orderData:e})))))};var b=a(86944),y=a(93736);const N=()=>n().createElement("div",{className:"w-full min-h-screen bg-[#f6f9fc]"},n().createElement(b.c,null),n().createElement(r.c,{active:2}),n().createElement(x,null),n().createElement(y.c,null))},36484:(e,t,a)=>{a.d(t,{c:()=>c});var l=a(11504),n=a.n(l),r=a(85976);const c=e=>{let{active:t}=e;const a=(0,r.U)();return n().createElement("div",{className:"w-full flex justify-center"},n().createElement("div",{className:"w-[90%] 800px:w-[50%] flex items-center flex-wrap justify-center"},n().createElement("div",{className:"".concat(a.noramlFlex)},n().createElement("div",{className:"".concat(a.cart_button)},n().createElement("span",{className:"".concat(a.cart_button_text)},"1.Shipping")),n().createElement("div",{className:"".concat(t>1?"w-[30px] 800px:w-[70px] h-[4px] !bg-[#f63b60]":"w-[30px] 800px:w-[70px] h-[4px] !bg-[#FDE1E6]")})),n().createElement("div",{className:"".concat(a.noramlFlex)},n().createElement("div",{className:"".concat(t>1?"".concat(a.cart_button):"".concat(a.cart_button," !bg-[#FDE1E6]"))},n().createElement("span",{className:"".concat(t>1?"".concat(a.cart_button_text):"".concat(a.cart_button_text," !text-[#f63b60]"))},"2.Payment"))),n().createElement("div",{className:"".concat(a.noramlFlex)},n().createElement("div",{className:"".concat(t>3?"w-[30px] 800px:w-[70px] h-[4px] !bg-[#f63b60]":"w-[30px] 800px:w-[70px] h-[4px] !bg-[#FDE1E6]")}),n().createElement("div",{className:"".concat(t>2?"".concat(a.cart_button):"".concat(a.cart_button," !bg-[#FDE1E6]"))},n().createElement("span",{className:"".concat(t>2?"".concat(a.cart_button_text):"".concat(a.cart_button_text," !text-[#f63b60]"))},"3.Success")))))}},86944:(e,t,a)=>{a.d(t,{c:()=>h});var l=a(11504),n=a.n(l),r=a(64768),c=a(66564),o=a(83284),s=a(85704);var i=a(76542),d=a(15896);const u=()=>{const[e,t]=(0,l.useState)(""),[a,r]=(0,l.useState)([]),[u,m]=(0,l.useState)([]),[p,v]=(0,l.useState)(!1),[g,f]=(0,l.useState)(-1),{handleSearch:h,handleSearchChange:E}=(e=>{let{searchInput:t,setSearchInput:a,setSuggestions:l,setFocus:n,setSelectedSuggestionIndex:r,setSearchHistory:i}=e;const d=(0,o.i6)();return{handleSearch:async e=>{e.preventDefault();try{if(t){const e=t.toLowerCase();l([]),await i((t=>t.includes(e)?t:[e,...t].slice(0,5)));var a=encodeURIComponent(e);d("/products?search=".concat(a))}}catch(e){console.error(e)}},handleSearchChange:async e=>{a(e.target.value);const t=e.target.value.toLowerCase();if(""===t)n(!0),l([]);else{n(!1);const{data:e}=await c.c.get("".concat(s.Yb,"/product/search-suggestions?search=").concat(t));l(e)}r(-1)}}})({searchInput:e,setSearchInput:t,setSuggestions:r,setFocus:v,setSelectedSuggestionIndex:f,setSearchHistory:m});return(0,l.useEffect)((()=>{const e=localStorage.getItem("searchHistory");e&&m(JSON.parse(e))}),[]),(0,l.useEffect)((()=>{localStorage.setItem("searchHistory",JSON.stringify(u))}),[u]),n().createElement(n().Fragment,null,n().createElement("form",{onSubmit:h},n().createElement("input",{type:"text",placeholder:"Search Product...",value:e,onChange:E,onFocus:()=>{v(!0)},className:"h-[40px] w-full px-2 border-[black] border-[1px] rounded-md"}),n().createElement("button",{type:"submit",className:"DronesHeader-search-icon"},n().createElement(i.u,{icon:d.Iud}))),n().createElement("div",{className:"sug-div"},(null==a?void 0:a.length)>0&&a.slice(0,10).map(((e,a)=>n().createElement("button",{key:a,onClick:()=>t(e),className:a===g?"selected":"search-sug"},e))),p&&u.map(((e,a)=>n().createElement("button",{onClick:()=>t(e),className:a===g?"selected":"search-sug",key:a},e)))))};var m=a(96800),p=a(85976),v=a(92976),g=a(32360),f=a(88032);const h=(0,l.memo)((()=>{var e;const{wishlist:t}=(0,m.w1)((e=>e.wishlist)),{cart:a}=(0,m.w1)((e=>e.cart)),{user:c}=(0,m.w1)((e=>e.user)),{newMessageDate:o}=(0,m.w1)((e=>e.messages)),s=(0,m.OY)(),[h,E]=(0,l.useState)(0),x=(0,p.U)(),[b,y]=(0,l.useState)(null);return(0,l.useEffect)((()=>{if(o){let e=null==o?void 0:o.find((e=>(null==e?void 0:e.userId)===(null==c?void 0:c._id)));e&&E(null==e?void 0:e.messageLength)}}),[o,null==c?void 0:c._id]),(0,l.useEffect)((()=>{v.I.on("getMessage",(e=>{y({sender:e.senderId,text:e.text,createdAt:Date.now()})}))}),[]),(0,l.useEffect)((()=>{let e={userId:null==c?void 0:c._id,messageLength:1};if(b){let t=null==o?void 0:o.find((t=>(null==t?void 0:t.userId)===(null==e?void 0:e.userId)));s(t?(0,g.y8)(e):(0,g.Q5)(e))}}),[b]),n().createElement(n().Fragment,null,n().createElement("div",{className:"DronesHeader-parent bg-light "},n().createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},n().createElement("div",{className:"container-fluid"},n().createElement(r.cH,{className:"navbar-brand",to:"/"},n().createElement("div",{className:"Drones-header-logo"},n().createElement(f.c,{alt:"logo",height:80,width:140,img:null==x||null===(e=x.logo)||void 0===e?void 0:e.url}))),n().createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n().createElement("span",{className:"navbar-toggler-icon"})),n().createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n().createElement("div",{className:"Drones-header-input-parent"},n().createElement(u,null)),n().createElement("form",{className:"d-flex"},n().createElement("div",{className:"Drones-header-icons"},n().createElement(r.cH,{to:"/cart"},n().createElement("div",{className:"Drones-header-icon drones-header-cart"},n().createElement(i.u,{icon:d.GEb,style:{color:"#8b96a5",fontSize:"20px"}}),n().createElement("span",{className:"absolute right-0 top-0 rounded-full bg-[#fa8232] w-4 h-4 top right p-0 m-0 text-white font-mono text-[12px] leading-tight text-center"},a&&a.length))),n().createElement(r.cH,{to:"/wishlist"},n().createElement("div",{className:"Drones-header-icon drones-header-cart drones-header-wishlist"},n().createElement(i.u,{icon:d.oNn,style:{color:"#8b96a5",fontSize:"20px"}}),n().createElement("span",{className:"absolute right-0 top-0 rounded-full bg-[#fa8232] w-4 h-4 top right p-0 m-0 text-white font-mono text-[12px] leading-tight text-center"},t&&t.length))),n().createElement(r.cH,{to:"/inbox"},n().createElement("div",{className:"Drones-header-icon drones-header-wishlist drones-header-cart"},n().createElement(i.u,{icon:d.d33,style:{color:"#8b96a5",fontSize:"20px"}}),n().createElement("span",{className:"absolute right-0 top-0 rounded-full bg-[#fa8232] w-4 h-4 top right p-0 m-0 text-white font-mono text-[12px] leading-tight text-center"},h))),n().createElement(r.cH,{to:"/profilepage"},n().createElement("div",{className:"Drones-header-icon"},n().createElement(i.u,{icon:d.OOk,style:{color:"#8b96a5",fontSize:"20px"}}))))))))))}))},38467:(e,t,a)=>{a.d(t,{c:()=>n});var l=a(85976);const n=()=>{const e=(0,l.U)(),t=null==e?void 0:e.currency;return{ConvertCurrency:e=>"INR"!==(null==t?void 0:t.code)?(e*(null==t?void 0:t.exchangeRate)).toFixed(2):e}}},32360:(e,t,a)=>{a.d(t,{Q5:()=>n,cv:()=>r,y8:()=>l});const l=e=>async(t,a)=>{t({type:"updateNewMessage",payload:e}),localStorage.setItem("newMessageDate",JSON.stringify(a().messages.newMessageDate))},n=e=>async(t,a)=>{t({type:"setNewMessage",payload:e}),localStorage.setItem("newMessageDate",JSON.stringify(a().messages.newMessageDate))},r=e=>async(t,a)=>{t({type:"removeNewMessage",payload:e}),localStorage.setItem("newMessageDate",JSON.stringify(a().messages.newMessageDate))}}}]);