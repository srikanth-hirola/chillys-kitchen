"use strict";(self.webpackChunkecom=self.webpackChunkecom||[]).push([[1888],{91888:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var l=a(11504),r=a.n(l),n=a(83284),s=a(66564),c=a(85704),o=a(27768),m=a(53740),u=a(96800),i=a(89340),d=a(13368),p=a(1784),g=a(16176);const b=async(e,t)=>{for(const a of e){if(""===a.name)return!0;if(t){for(const e of a.values)if(""===e.valName||null===e.stock||""===e.stock)return!0}else for(const e of a.values)if(""===e.valName)return!0}return!1},h=async e=>{let t=!1;for(const a of e)t||""!==a.key.name&&0!==a.key.value.length||(t=!0);return t},E=async(e,t,a)=>{const l=[];""!==e.name&&""!==e.brandName&&""!==e.category&&""!==e.subCatgory&&""!==e.subSubCategory||l.push(1),e.productIdState&&(""===e.productId?l.push(1):/^[a-zA-Z0-9]+$/.test(e.productId)||l.push(1)),""!==e.productTaxCode&&""!==e.itemCondition&&null!==e.hsnCode||l.push(2),""!==e.mainImage.url&&0!==a.length||0===e.images.length&&l.push(4),""===e.description&&l.push(5),await h(e.specs)&&l.push(5),await h(e.specs2)&&l.push(5),""!==e.model&&""!==e.noItem&&""!==e.materialType&&""!==e.manufacturer||l.push(7),!e.ataWeight||""!==e.itemWeight&&""!==e.itemWeightUnit||l.push(7),e.assemblyReq&&(""!==e.noOfPieces&&""!==e.components&&""!==e.assemblyInstruction||l.push(7)),0===e.searchTerms.length&&l.push(3),""!==e.safetyWarning&&""!==e.shape&&""!==e.packageWeight&&""!==e.packageWeightUnit&&""!==e.packageHeight&&""!==e.packageHeightUnit&&""!==e.packageLength&&""!==e.packageLengthhUnit&&""!==e.packageWidth&&""!==e.packageWidthUnit&&""!==e.productCareInstruction&&""!==e.shape&&""!==e.constructionType||l.push(9),e.showInputs?await(async(e,t)=>{let a=!1;for(const l of e)a||""!==l.image.url&&""!==l.discountPrice&&""!==l.originalPrice&&""!==l.varientSKU&&""!==l.imageColor||(a=!0),a||t.ataWeight||""===l.weight&&(a=!0),a||t.ataMaterials||""===l.materialType&&(a=!0),!a&&l.haveAttributes&&await b(l.attributes,l.attributeStock)&&(a=!0);return a})(e.colorInputs,e)&&l.push(8):(""!==e.sellerSKU&&""!==e.originalPrice&&""!==e.discountPrice||l.push(2),e.haveAttributes?await b(e.attributes,e.attributeStock)&&l.push(2):null!==e.stock&&""!==e.stock||l.push(7),""!==e.size&&""!==e.color||l.push(7));const r=new Set(l),n=Array.from(r);return n.length>0?(t(n),i.cp.error("All mandatory fields must be filled"),!1):(t([]),!0)};var v=a(27784);const f=e=>{let{handleCheckChange:t,handleCategoryChange:a,categories:n,handleSubCategoryChange:s,subCat:c,subSubCat:o,handleFormDataChange:m,formData:u,setFormData:i,wantNewCategory:d,setWantNewCategory:p}=e;const g=null==u?void 0:u.productId,[b,h]=(0,l.useState)(u.productIdState);return r().createElement(r().Fragment,null,r().createElement("div",null,r().createElement("label",{className:"pb-2 font-[500]"},"Item Name ",r().createElement("span",{className:"text-red-500"},"*")),r().createElement("input",{type:"text",name:"name",value:u.name,className:"mt-2 appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:m,placeholder:"Enter your product name..."})),r().createElement("br",null),r().createElement("div",null,r().createElement("label",{className:"pb-2 font-[500]"},"Does Product have variations ? ",r().createElement("span",{className:"text-red-500"},"*")),r().createElement("div",{className:"d-flex "},r().createElement("div",{className:"mr-2"},r().createElement("input",{type:"radio",name:"assemblyReq",className:"mr-1",onChange:e=>{i({...u,showInputs:!0})},checked:u.showInputs&&!0}),r().createElement("label",{className:"pb-2 font-[500]"},"Yes")),r().createElement("div",null,r().createElement("input",{type:"radio",name:"assemblyReq",className:"mr-1",onChange:e=>{i({...u,showInputs:!1})},checked:!u.showInputs&&!0}),r().createElement("label",{className:"pb-2 font-[500]"},"No")))),r().createElement("br",null),r().createElement("div",null,r().createElement("label",{className:"pb-2 font-[500]"},"Brand Name ",r().createElement("span",{className:"text-red-500"},"*")),r().createElement("input",{maxLength:10,type:"text",name:"brandName",value:u.brandName,className:"mt-2 appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:m,placeholder:"Enter your Brand name..."})),r().createElement("br",null),!g&&r().createElement(r().Fragment,null,r().createElement("div",null,r().createElement("label",{className:"pb-2 font-[500]"},"Have Product ID ?"),r().createElement("input",{className:"mx-2",type:"checkbox",onChange:()=>{!1===b?(i({...u,productIdState:!0}),h(!0)):(i({...u,productIdState:!1}),h(!1))},checked:!0===b}),r().createElement("br",null),r().createElement("span",{className:"attribute-eg"},r().createElement("i",null,"Note :- Product ID can't be changed once submitted."))),r().createElement("br",null),u.productIdState&&r().createElement(r().Fragment,null,r().createElement("div",null,r().createElement("label",{className:"pb-2 font-[500]"},"Product ID",r().createElement("span",{className:"text-red-500"},"*")),r().createElement("input",{type:"text",name:"productId",value:u.productId,className:"mt-2 appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:m,placeholder:"Enter your Product ID..."})),r().createElement("br",null))),r().createElement("div",null,r().createElement("label",{className:"pb-2 font-[500]"},"Category ",r().createElement("span",{className:"text-red-500"},"*")),r().createElement("select",{className:"w-full mt-2 border h-[35px] rounded-[5px]",value:u.category,onChange:e=>a(e)},r().createElement("option",{value:"Choose a category"},"Choose a category"),n&&n.map((e=>r().createElement("option",{value:e._id,key:e.name},e.name))))),r().createElement("br",null),r().createElement("div",null,r().createElement("label",{className:"pb-2 font-[500]"},"Sub Category ",r().createElement("span",{className:"text-red-500"},"*")),r().createElement("select",{className:"w-full mt-2 border h-[35px] rounded-[5px]",value:u.subCatgory,onChange:e=>s(e)},r().createElement("option",{value:"Choose a category"},"Choose Sub category"),n&&c.map((e=>r().createElement("option",{value:e._id,key:e.name},e.name))))),r().createElement("br",null),r().createElement("div",null,r().createElement("label",{className:"pb-2 font-[500]"},"Sub Sub-Category ",r().createElement("span",{className:"text-red-500"},"*")),r().createElement("select",{className:"w-full mt-2 border h-[35px] rounded-[5px]",value:u.subSubCategory,name:"subSubCategory",onChange:m},r().createElement("option",{value:"Choose a category"},"Choose Sub category"),n&&o.map((e=>r().createElement("option",{value:null==e?void 0:e._id,key:e._id},null==e?void 0:e.name))))),r().createElement("br",null),r().createElement("div",null,r().createElement("label",{className:"pb-2 font-[500]"},"Want New Category?"),r().createElement("input",{className:"mx-2",type:"checkbox",onChange:e=>{p(!1===d)},checked:!0===d}),r().createElement("br",null)),d&&r().createElement(v.c,{categories:n}))};var y=a(63444),C=a(85976);const N=e=>{let{searchTerms:t,setSearchTerms:a,formData:n,colorInputs:s}=e;const c=(0,C.U)(),[o,m]=(0,l.useState)("");return r().createElement(r().Fragment,null,r().createElement("div",null,r().createElement("label",{className:"pb-2 font-[500]"},"Search Terms ",r().createElement("span",{className:"text-red-500"},"*")),r().createElement("div",{className:"d-flex"},r().createElement("input",{type:"text",value:o,name:"searchTerms",className:"appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:e=>{e.preventDefault();const t=e.target.value;m(t)}}),r().createElement("button",{className:"rounded px-2 py-2 mx-2",style:{backgroundColor:null==c?void 0:c.mainColor,color:null==c?void 0:c.fontColor},onClick:e=>{e.preventDefault();const l=o.toLowerCase();if(t.includes(l))i.cp.error("Term already exists in searchTerms");else{const e=[...t,l];a(e),m("")}}},"Add")),r().createElement("button",{className:"rounded px-4 py-2 ",style:{backgroundColor:null==c?void 0:c.mainColor,color:null==c?void 0:c.fontColor},onClick:async e=>{let l;e.preventDefault(),l=n.showInputs?await(async()=>{const{brandName:e,name:t,productId:a,category:l,subCategory:r,subSubCategory:c,itemCondition:o,model:m,materialType:u,manufacturer:i}=n,d={skuCode:[],varientName:[],price:[],materialType:[]};s.forEach((e=>{const{varientSKU:t,imageColor:a,discountPrice:l,inputMaterialType:r}=e;d.skuCode.push(null==t?void 0:t.toLowerCase()),d.varientName.push(null==a?void 0:a.toLowerCase()),d.price.push(null==l?void 0:l.toLowerCase()),d.materialType.push(null==r?void 0:r.toLowerCase())}));const p=Object.values(d).flatMap((e=>e.filter((e=>"string"==typeof e)))),g=[...p];return e&&g.push(e),t&&g.push(t),a&&g.push(a),l&&g.push(l),r&&g.push(r),c&&g.push(c),o&&g.push(o),m&&g.push(m),u&&g.push(u),i&&g.push(i),g})():(()=>{const{brandName:e,name:t,productId:a,category:l,subCategory:r,subSubCategory:s,sellerSKU:c,discountPrice:o,itemCondition:m,model:u,size:i,color:d,materialType:p,manufacturer:g}=n,b=[];return e&&b.push(e),t&&b.push(t),a&&b.push(a),l&&b.push(l),r&&b.push(r),s&&b.push(s),c&&b.push(c),o&&b.push(o),m&&b.push(m),u&&b.push(u),i&&b.push(i),d&&b.push(d),p&&b.push(p),g&&b.push(g),b})();const r=new Set(t.map((e=>"string"==typeof e?e.toLowerCase():e)));for(const e of l)"string"==typeof e&&r.add(e.toLowerCase());const c=[...r];a(c)}},"Generate Search Terms")),r().createElement("br",null),r().createElement("div",{className:"keyword-array-div gnrt"},t.map(((e,l)=>r().createElement(r().Fragment,null,r().createElement("p",{className:"gnrt-p1",key:l},e,"  ",r().createElement("button",{className:"gnrt-btn",onClick:e=>{((e,l)=>{e.preventDefault();const r=[...t];r.splice(l,1),a(r)})(e,l)}},"x")))))))};var x=a(47956),k=a(44484),S=a(76542),w=a(15896);const I=e=>{var t,a;let{handleImageChange:l,images:o,handleRemove:m,formData:u,handleDeleteCloudinaryImage:d,mainImage:p,setMainImage:g}=e;const{id:b}=(0,n.W4)();return r().createElement(r().Fragment,null,u.mainImage.url?r().createElement("div",{className:"image-div"},r().createElement("img",{src:u.mainImage.url,alt:"main",className:"h-[130px] w-[130px] object-cover"}),r().createElement("button",{onClick:e=>{((e,t)=>{e.preventDefault(),s.c.put("".concat(c.Yb,"/product/delete-main-image"),{id:t,_id:b},{withCredentials:!0}).then((e=>{i.cp.success("Image Deleted successfully!"),window.location.reload()})).catch((e=>{i.cp.error(e.response.data.message)}))})(e,u.mainImage.public_id)},className:"images-delete-btn"},r().createElement(S.u,{icon:w._8k,style:{color:"red"}}))):r().createElement("div",null,r().createElement("label",{className:"pb-2"},"Main Image ",r().createElement("span",{className:"text-red-500"},"*")),r().createElement("input",{type:"file",name:"",id:"MainImage",className:"hidden",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=()=>{g(e.result)},e.readAsDataURL(t)}}}),r().createElement("div",{className:"w-full flex items-center flex-wrap"},r().createElement("label",{htmlFor:"MainImage"},r().createElement(k.Sks,{size:30,className:"mt-3",color:"#555"})),p&&r().createElement("div",{className:"image-div"},r().createElement("img",{src:p,alt:"main",className:"h-[130px] w-[130px] object-cover"}),r().createElement("button",{onClick:e=>{g("")},className:"images-delete-btn"},r().createElement(S.u,{icon:w._8k,style:{color:"red"}})))),r().createElement("br",null)),r().createElement("div",null,r().createElement("label",{className:"pb-2"},"Upload Images ",r().createElement("span",{className:"text-red-500"},"*")),r().createElement("input",{type:"file",name:"",id:"upload",className:"hidden",multiple:!0,onChange:l}),r().createElement("div",{className:"w-full flex items-center flex-wrap"},(null==u||null===(t=u.images)||void 0===t?void 0:t.length)>0&&(null==u||null===(a=u.images)||void 0===a?void 0:a.map(((e,t)=>r().createElement("div",{className:"image-div"},r().createElement("img",{src:e.url,key:e,alt:"",className:"h-[130px] w-[130px] object-cover"}),r().createElement("button",{onClick:t=>{d(t,e.public_id,b)},className:"images-delete-btn"},r().createElement(S.u,{icon:w._8k,style:{color:"red"}})))))),r().createElement("label",{htmlFor:"upload"},r().createElement(k.Sks,{size:30,className:"mt-3",color:"#555"})),o&&o.map(((e,t)=>r().createElement("div",{className:"image-div"},r().createElement("img",{src:e,key:e,alt:"",className:"h-[130px] w-[130px] object-cover"}),r().createElement("button",{onClick:e=>{m(e,t)},className:"images-delete-btn"},r().createElement(S.u,{icon:w._8k,style:{color:"red"}})))))),r().createElement("br",null)),r().createElement("br",null))};var D=a(5588);const U=e=>{let{colorInputs:t,setColorInputs:a,dimensions:l,weight:o,materialTypeStatus:m,formData:u,setFormData:d,setColorInputsIndexUpdateImage:p,colorInputsIndexUpdateImage:g}=e;const b=(0,C.U)(),{id:h}=(0,n.W4)(),E=(e,l,r)=>{const n=[...t];if("SKU"!==l)n[e][l]=r,a(n);else{if(/^[a-zA-Z0-9]*$/.test(r)){const t=r.toUpperCase();n[e][l]=t}a(n)}},v=(e,l,r,n,s)=>{const c=[...t];"name"===r?c[e].attributes[l].name=n:"values"===r?c[e].attributes[l].values[s].valName=n:"stock"===r&&(c[e].attributes[l].values[s].stock=n),a(c)};return r().createElement("div",null,t.map(((e,n)=>{var d;return r().createElement("div",{key:n},r().createElement("h4",{className:"mt-5"}," ",r().createElement("b",null,"Varient ",n+1)," "),null!=u&&null!==(d=u.colorInputs[n])&&void 0!==d&&d.image.public_id?r().createElement("div",{className:"image-div"},r().createElement("img",{className:"h-[130px] w-[130px] object-cover",src:e.image.url,alt:"Color ".concat(n+1)}),r().createElement("button",{onClick:t=>{((e,t,a,l)=>{e.preventDefault(),s.c.put("".concat(c.Yb,"/product/delete-showInput-image"),{id:t,_id:l,index:a},{withCredentials:!0}).then((e=>{i.cp.success("Image Deleted successfully!"),window.location.reload()})).catch((e=>{i.cp.error(e.response.data.message)}))})(t,e.image.public_id,n,h)},className:"images-delete-btn"},r().createElement(S.u,{icon:w._8k,style:{color:"red"}}))):r().createElement(r().Fragment,null,r().createElement("div",{className:"mt-2"},r().createElement("label",null,"Varient Image ",r().createElement("span",{className:"text-red-500"},"*")),"  ",r().createElement("input",{type:"file",accept:"image/*",onChange:e=>((e,l)=>{const r=l.target.files[0];if(r){const l=new FileReader;l.onloadend=()=>{const r=l.result,n=[...t],s={...n[e]};s.image.url=r,n[e]=s,a(n);const c=[...g];c.push(e),p(c)},l.readAsDataURL(r)}})(n,e)})),e.image.url&&r().createElement(r().Fragment,null,r().createElement("img",{className:"mt-4 mb-3",src:e.image.url,alt:"Color ".concat(n+1),style:{width:"100px",height:"100px"}}))),r().createElement("div",null,r().createElement("label",{className:"pb-2 mt-2"},"SKU Code",r().createElement("span",{className:"text-red-500"},"*")),r().createElement("input",{type:"text",name:"SKU",value:e.SKU,className:"mt-2 appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:e=>E(n,"SKU",e.target.value),placeholder:"Enter SKU..."})),r().createElement("br",null),r().createElement("div",null,r().createElement("label",null,"Varient Name:"),r().createElement("input",{maxLength:15,className:"w-full mt-2 border pl-2 h-[35px] rounded-[5px]",type:"text",value:e.imageColor,onChange:e=>E(n,"imageColor",e.target.value)})),r().createElement("div",{className:"mt-4"},r().createElement("label",null,"Discount Price:"),r().createElement("input",{className:"w-full mt-2 border pl-2 h-[35px] rounded-[5px]",type:"number",value:e.discountPrice,onChange:e=>E(n,"discountPrice",e.target.value)})),r().createElement("div",{className:"mt-4"},r().createElement("label",null,"Original Price:"),r().createElement("input",{className:"w-full mt-2 border pl-2 h-[35px] rounded-[5px]",type:"number",value:e.originalPrice,onChange:e=>E(n,"originalPrice",e.target.value)})),r().createElement("div",{className:"mt-4"},r().createElement("label",{className:"pb-2"},"Have attributes ?",r().createElement("span",{className:"text-red-500"},"*")),r().createElement("input",{className:"mx-2",type:"checkbox",name:"assemblyReq",onChange:e=>{((e,l)=>{const r=[...t];r[l].haveAttributes=!r[l].haveAttributes,a(r)})(0,n)},checked:!!e.haveAttributes})),e.haveAttributes&&r().createElement("div",{className:"mt-4"},r().createElement("label",{className:"pb-2"},"Have Seperate Stock Limit for each selectable attribut value ?",r().createElement("span",{className:"text-red-500"},"*")),r().createElement("input",{className:"mx-2",type:"checkbox",name:"assemblyReq",onChange:e=>{((e,l)=>{const r=[...t];r[l].attributeStock=!r[l].attributeStock,a(r)})(0,n)},checked:!!e.attributeStock})),!e.attributeStock&&r().createElement("div",{className:"mt-4"},r().createElement("label",null,"Stock:"),r().createElement("input",{className:"w-full mt-2 border pl-2 h-[35px] rounded-[5px]",type:"number",value:e.stock,onChange:e=>E(n,"stock",e.target.value)})),e.haveAttributes&&r().createElement("div",{className:"mt-4"},r().createElement("label",null,"Selectable Attributes:"," ",r().createElement("span",{className:"attribute-eg"},r().createElement("i",null,"Eg :- RAM(key) : 8GB, 12GB(value)"))),e.attributes.map(((l,s)=>r().createElement("div",{key:s},r().createElement("input",{className:"w-half mt-2 mr-2 border pl-2 h-[35px] rounded-[5px]",type:"text",placeholder:"Key",value:l.name,onChange:e=>v(n,s,"name",e.target.value)}),r().createElement("br",null),l.values.map(((l,c)=>r().createElement(r().Fragment,null,r().createElement(r().Fragment,null,r().createElement("input",{className:"w-half mt-2 mr-2 border pl-2 h-[35px] rounded-[5px]",type:"text",placeholder:"Value",value:l.valName,onChange:e=>v(n,s,"values",e.target.value,c)}),e.attributeStock&&r().createElement("input",{className:"w-half mt-2 mr-2 border pl-2 h-[35px] rounded-[5px]",type:"text",placeholder:"Stock",value:l.stock,onChange:e=>v(n,s,"stock",e.target.value,c)}),r().createElement("button",{className:"rounded px-2 py-2 mx-2",style:{backgroundColor:null==b?void 0:b.mainColor,color:null==b?void 0:b.fontColor},onClick:e=>((e,l,r)=>{e.preventDefault();const n=[...t];n[l].attributes[r].values.push({valName:"",stock:null,eventStock:null,sold_out:0}),a(n)})(e,n,s)},"Add Value"),r().createElement("button",{className:"varient-btn cat-btn5",onClick:e=>((e,l,r,n)=>{e.preventDefault();const s=[...t];s[l].attributes[r].values.splice(n,1),a(s)})(e,n,s,c)},"Remove Value")),r().createElement("br",null)))),r().createElement("button",{className:"varient-btn cat-btn5",onClick:e=>((e,l,r)=>{e.preventDefault();const n=[...t];n[l].attributes.splice(r,1),a(n)})(e,n,s)},"Remove Attribute")))),r().createElement("button",{className:"rounded px-4 py-2",style:{backgroundColor:null==b?void 0:b.mainColor,color:null==b?void 0:b.fontColor},onClick:e=>((e,l)=>{e.preventDefault();const r=[...t];r[l].attributes.push({name:"",values:[{valName:"",stock:null,eventStock:null,sold_out:0}]}),a(r)})(e,n)},"Add Attribute")),!l&&r().createElement(r().Fragment,null,r().createElement("div",{className:"mt-4"},r().createElement("label",{className:"pb-2"},r().createElement("b",null,"Item Dimensions L X W X H "),r().createElement("span",{className:"text-red-500"},"*")),r().createElement("div",{className:"mt-3"},r().createElement("label",null,"Item length head to toe")," ",r().createElement("span",{className:"text-gray-500 text-[13px]"},"(in cm)"),r().createElement("br",null),r().createElement("input",{type:"number",name:"itemLength",value:e.itemLength,className:"w-half mt-2 mr-2 border pl-2 h-[35px] rounded-[5px]",onChange:e=>E(n,"itemLength",e.target.value)})),r().createElement("div",{className:"mt-3"},r().createElement("label",null,"Item width side to side")," ",r().createElement("span",{className:"text-gray-500 text-[13px]"},"(in cm)"),r().createElement("br",null),r().createElement("input",{type:"number",name:"itemWidth",value:e.itemWidth,className:"w-half mt-2 mr-2 border pl-2 h-[35px] rounded-[5px]",onChange:e=>E(n,"itemWidth",e.target.value)})),r().createElement("div",{className:"mt-3"},r().createElement("label",null,"Item Height floor to top")," ",r().createElement("span",{className:"text-gray-500 text-[13px]"},"(in cm)"),r().createElement("br",null),r().createElement("input",{type:"number",name:"itemHeight",value:e.itemHeight,className:"w-half mt-2 mr-2 border pl-2 h-[35px] rounded-[5px]",onChange:e=>E(n,"itemHeight",e.target.value)}))),r().createElement("br",null)),!o&&r().createElement(r().Fragment,null,r().createElement("div",{className:"mt-4"},r().createElement("label",{className:"pb-2"},"Item Weight ",r().createElement("span",{className:"text-red-500"},"*"),r().createElement("span",{className:"text-gray-500 text-[13px]"},"(in kg)")),r().createElement("br",null),r().createElement("input",{type:"number",name:"itemWeight",value:e.itemWeight,className:"w-half mt-2 mr-2 border pl-2 h-[35px] rounded-[5px]",onChange:e=>E(n,"itemWeight",e.target.value)})),r().createElement("br",null)),!m&&r().createElement(r().Fragment,null,r().createElement("div",{className:""},r().createElement("label",{className:"pb-2"},"Material Type",r().createElement("span",{className:"text-red-500"},"*")),r().createElement("input",{type:"text",name:"materialType",value:e.materialType,className:"mt-2 appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:e=>E(n,"materialType",e.target.value)})),r().createElement("br",null)),r().createElement("button",{className:"varient-btn cat-btn5",onClick:()=>(e=>{const l=[...t];l.splice(e,1),a(l)})(n)},"Remove Varient ",n+1))})),r().createElement("button",{className:"rounded px-4 py-2 my-2",style:{backgroundColor:null==b?void 0:b.mainColor,color:null==b?void 0:b.fontColor},onClick:e=>{e.preventDefault(),a((e=>[...e,{SKU:"",image:{public_id:"",url:""},imageColor:"",originalPrice:"",discountPrice:"",eventPrice:"",eventStock:null,stock:null,sold_out:0,length:"",width:"",height:"",weight:"",materialType:"",haveAttributes:!1,attributeStock:!1,attributes:[{name:"",values:[{valName:"",stock:null,eventStock:null,sold_out:0}]}]}]))}},"Add Varient"))},F=e=>{let{colorInputs:t,setColorInputs:a,formData:l,setFormData:n,setColorInputsIndexUpdateImage:s,colorInputsIndexUpdateImage:c}=e;return r().createElement(r().Fragment,null,r().createElement(U,{colorInputs:t,setColorInputs:a,dimensions:l.ataDimension,weight:l.ataWeight,materialTypeStatus:l.ataMaterials,formData:l,setFormData:n,setColorInputsIndexUpdateImage:s,colorInputsIndexUpdateImage:c}))};var P=a(42188);const T=e=>{let{formData:t,setFormData:a,categories:o,category:m,subCatgory:b,subSubCategory:h,subCat:v,subSubCat:C,handleCategoryChange:k,handleSubCategoryChange:S,setSubSubCategory:w,handleChange:U,attributes:T,setAttributes:_,colorInputs:A,setColorInputs:W,selectedFiles:L,setSelectedFiles:H,searchTerms:R,setSearchTerms:K,specification:z,setSpecification:M,specification2:V,setSpecification2:j,mainImage:Y,setMainImage:q,productDetails:O,setProductDetails:B}=e;const $=(0,u.OY)(),[G,Z]=(0,l.useState)(1),[X,Q]=(0,l.useState)([]),[J,ee]=(0,l.useState)(!1),[te,ae]=(0,l.useState)([]),[le,re]=(0,l.useState)([]),{successDraftSave:ne,error:se,success:ce}=(0,u.w1)((e=>e.products)),oe=(0,n.i6)();(0,l.useEffect)((()=>{ne&&(i.cp.success("Draft Saved successfully!"),oe("/dashboard")),se&&i.cp.error(se),ce&&(i.cp.success("Prduct Data Updated Successfully!"),oe("/dashboard"))}),[$,se,ne,ce,oe]);const me=e=>{const{name:l,value:r}=e.target;if("productId"!==l&&"productTaxCode"!==l&&"SKU"!==l){if("hsnCode"!==l)a({...t,[l]:r});else if(/^[0-9]{0,15}$/.test(r)){const e=r.toUpperCase();a({...t,[l]:e})}}else if(/^[a-zA-Z0-9]*$/.test(r)){const e=r.toUpperCase();a({...t,[l]:e})}};return r().createElement("div",{className:"w-[90%] 800px:w-[50%] bg-white  shadow h-[80vh] rounded-[4px] p-3 overflow-y-scroll create-width"},r().createElement("h5",{className:"text-[30px] font-Poppins text-center"},"Edit Product"),t&&r().createElement("form",{onSubmit:async e=>{e.preventDefault();const a=t._id;t.draft=!1,t.attributes=T,t.searchTerms=R,t.specs=z,t.specs2=V,t.colorInputs=A,t.productDescription=O,Y&&(t.mainImage=Y),await E(t,re,X)&&$((0,g.KM)(t,a,X,Y,te))}},r().createElement("br",null),r().createElement("div",{className:"track-status"},r().createElement("p",{className:"d-flex",onClick:()=>{Z(1)},style:{color:1===G?"red":"black"}},"Product Identity",r().createElement("span",null,le.includes(1)&&r().createElement(d.mU.Provider,{value:{color:"red"}},r().createElement(p.awH,{size:20,color:"red"})))),r().createElement("p",{onClick:()=>{Z(2)},className:"d-flex",style:{color:2===G?"red":"black"}},"Offer",r().createElement("span",null,le.includes(2)&&r().createElement(d.mU.Provider,{value:{color:"red"}},r().createElement(p.awH,{size:20,color:"red"})))),r().createElement("p",{onClick:()=>{Z(4)},className:"d-flex",style:{color:4===G?"red":"black"}},"Images",r().createElement("span",null,le.includes(4)&&r().createElement(d.mU.Provider,{value:{color:"red"}},r().createElement(p.awH,{size:20,color:"red"})))),r().createElement("p",{onClick:()=>{Z(5)},className:"d-flex",style:{color:5===G?"red":"black"}},"Description",r().createElement("span",null,le.includes(5)&&r().createElement(d.mU.Provider,{value:{color:"red"}},r().createElement(p.awH,{size:20,color:"red"})))),r().createElement("p",{onClick:()=>{Z(7)},className:"d-flex",style:{color:7===G?"red":"black"}},"Vital Info",r().createElement("span",null,le.includes(7)&&r().createElement(d.mU.Provider,{value:{color:"red"}},r().createElement(p.awH,{size:20,color:"red"})))),t.showInputs&&r().createElement("p",{onClick:()=>{Z(8)},className:"d-flex",style:{color:8===G?"red":"black"}},"Variations",r().createElement("span",null,le.includes(8)&&r().createElement(d.mU.Provider,{value:{color:"red"}},r().createElement(p.awH,{size:20,color:"red"})))),r().createElement("p",{onClick:()=>{Z(3)},className:"d-flex",style:{color:3===G?"red":"black"}},"Keywords",r().createElement("span",null,le.includes(3)&&r().createElement(d.mU.Provider,{value:{color:"red"}},r().createElement(p.awH,{size:20,color:"red"})))),r().createElement("p",{onClick:()=>{Z(9)},className:"d-flex",style:{color:9===G?"red":"black"}},"More Details",r().createElement("span",null,le.includes(9)&&r().createElement(d.mU.Provider,{value:{color:"red"}},r().createElement(p.awH,{size:20,color:"red"}))))),1===G&&r().createElement(f,{handleCheckChange:()=>{!0===t.showInputs?a({...t,showInputs:!1}):a({...t,showInputs:!0})},handleCategoryChange:k,categories:o,handleSubCategoryChange:S,subCat:v,subSubCat:C,handleFormDataChange:me,formData:t,setFormData:a,wantNewCategory:J,setWantNewCategory:ee}),2===G&&r().createElement(y.c,{formData:t,handleFormDataChange:me,attributes:T,setAttributes:_,setFormData:a}),3===G&&r().createElement(N,{searchTerms:R,setSearchTerms:K,formData:t,colorInputs:A}),4===G&&r().createElement(I,{handleRemove:(e,t)=>{e.preventDefault();const a=[...X];a.splice(t,1),Q(a)},handleImageChange:e=>{const t=Array.from(e.target.files);Q([]),t.forEach((e=>{const t=new FileReader;t.onload=()=>{2===t.readyState&&Q((e=>[...e,t.result]))},t.readAsDataURL(e)}))},images:X,handleDeleteCloudinaryImage:(e,a)=>{e.preventDefault(),s.c.put("".concat(c.Yb,"/product/delete-product-image"),{id:a,_id:t._id},{withCredentials:!0}).then((e=>{$((0,g._Q)(t._id)),i.cp.success("Image Deleted successfully!"),window.location.reload()})).catch((e=>{i.cp.error(e.response.data.message)}))},formData:t,mainImage:Y,setMainImage:q}),5===G&&r().createElement(x.c,{specification:z,setSpecification:M,specification2:V,setSpecification2:j,formData:t,handleFormDataChange:me,productDetails:O,setProductDetails:B}),7===G&&r().createElement(D.c,{formData:t,handleFormDataChange:me,setFormData:a}),8===G&&r().createElement(F,{colorInputs:A,setColorInputs:W,formData:t,setColorInputsIndexUpdateImage:ae,colorInputsIndexUpdateImage:te,materialTypeStatus:!1,setFormData:a}),9===G&&r().createElement(P.c,{formData:t,handleFormDataChange:me,setFormData:a}),r().createElement("div",null,r().createElement("input",{type:"submit",value:"Update",className:"rounded px-4 bg-green-500 py-2 text-white"}))))};var _=a(93736);const A=()=>{const{id:e}=(0,n.W4)(),[t,a]=(0,l.useState)(null),[u,i]=(0,l.useState)(null),[d,p]=(0,l.useState)(""),[g,b]=(0,l.useState)(""),[h,E]=(0,l.useState)(""),[v,f]=(0,l.useState)([]),[y,C]=(0,l.useState)([]),[N,x]=(0,l.useState)([]),[k,S]=(0,l.useState)(),[w,I]=(0,l.useState)([{SKU:"",image:"",imageColor:"",originalPrice:"",discountPrice:"",eventPrice:"",eventStock:"",stock:0,sold_out:0,length:"",width:"",height:"",weight:"",materialType:"",attributes:[{name:"",values:[]}]}]),[D,U]=(0,l.useState)([]),[F,P]=(0,l.useState)(),[A,W]=(0,l.useState)(),[L,H]=(0,l.useState)(),[R,K]=(0,l.useState)("");return(0,l.useEffect)((()=>{s.c.get("".concat(c.Yb,"/product/editProduct/").concat(e)).then((e=>{var t;e.data.products?(S(e.data.products[0].attributes),I(e.data.products[0].colorInputs),a(e.data.products[0]),i(e.data.categories),H(e.data.products[0].searchTerms),P(e.data.products[0].specs),W(e.data.products[0].specs2),p(e.data.products[0].category),b(e.data.products[0].subCatgory),E(e.data.products[0].subSubCategory),f(null===(t=e.data.products[0])||void 0===t?void 0:t.productDescription),e.data.categories.map((t=>{t._id===e.data.products[0].category&&(C(t.subcategories),t.subcategories.map((t=>{t._id===e.data.products[0].subCatgory&&x(t.subSubcategories)})))}))):alert("No Data Found")})).catch((e=>{console.log(e)}))}),[e]),r().createElement("div",null,r().createElement(o.c,null),r().createElement("div",{className:"flex items-start justify-between w-full dasboard-user-width-mobile"},r().createElement("div",{className:"800px:w-[330px] dashboard-side-bar-res"},r().createElement(m.c,{active:1})),r().createElement(T,{formData:t,setFormData:a,categories:u,category:d,subCatgory:g,subSubCategory:h,subCat:y,subSubCat:N,handleCategoryChange:e=>{e.preventDefault(),p(e.target.value),a({...t,category:e.target.value}),u.map((t=>{t._id===e.target.value&&C(t.subcategories)})),E(""),x([])},handleSubCategoryChange:e=>{e.preventDefault(),b(e.target.value),a({...t,subCatgory:e.target.value}),y.map((t=>{t._id===e.target.value&&x(t.subSubcategories)})),E("")},setSubSubCategory:E,handleChange:e=>{e.preventDefault();const{name:t,value:l}=e.target;a((e=>({...e,[t]:l})))},searchTerms:L,setSearchTerms:H,attributes:k,setAttributes:S,colorInputs:w,setColorInputs:I,selectedFiles:D,setSelectedFiles:U,specification2:A,setSpecification2:W,specification:F,setSpecification:P,mainImage:R,setMainImage:K,productDetails:v,setProductDetails:f})),r().createElement(_.c,null))}}}]);