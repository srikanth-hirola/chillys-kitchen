"use strict";(self.webpackChunkecom=self.webpackChunkecom||[]).push([[6658],{46658:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var l=a(11504),c=a.n(l),n=a(27768),s=a(66564),r=a(83284),o=a(64768),m=a(96800),i=a(85976),d=a(16176),u=a(85704),p=a(60580),v=a(26460),E=a(32602),x=a(89340);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},f.apply(this,arguments)}const g=e=>{const[t,a]=(0,l.useState)(""),[n,r]=(0,l.useState)(""),[o,m]=(0,l.useState)(""),d=(0,i.U)();return c().createElement(E.c,f({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),c().createElement(E.c.Header,null,c().createElement(E.c.Title,{id:"contained-modal-title-vcenter"},"Change Password")),c().createElement(E.c.Body,null,c().createElement("div",{className:"w-full px-5"},c().createElement("h1",{className:"block text-[25px] text-center font-[600] text-[#000000ba] pb-2"},"Change Password"),c().createElement("div",{className:"w-full"},c().createElement("form",{onSubmit:async l=>{l.preventDefault(),await s.c.put("".concat(u.Yb,"/shop/update-seller-password"),{oldPassword:t,newPassword:n,confirmPassword:o,id:e.sellerId},{withCredentials:!0}).then((e=>{x.cp.success(e.data.message),(async()=>{s.c.get("".concat(u.Yb,"/shop/logout"),{withCredentials:!0}),window.location.reload()})(),a(""),r(""),m("")})).catch((e=>{x.cp.error(e.response.data.message)}))},className:"flex flex-col items-center"},c().createElement("div",{className:" w-[100%] 800px:w-[50%] mt-5"},c().createElement("label",{className:"block pb-2"},"Enter your old password"),c().createElement("input",{type:"password",className:"".concat(d.input," !w-[95%] mb-4 800px:mb-0"),required:!0,value:t,onChange:e=>a(e.target.value)})),c().createElement("div",{className:" w-[100%] 800px:w-[50%] mt-2"},c().createElement("label",{className:"block pb-2"},"Enter your new password"),c().createElement("input",{type:"password",className:"".concat(d.input," !w-[95%] mb-4 800px:mb-0"),required:!0,value:n,onChange:e=>r(e.target.value)})),c().createElement("div",{className:" w-[100%] 800px:w-[50%] mt-2"},c().createElement("label",{className:"block pb-2"},"Enter your confirm password"),c().createElement("input",{type:"password",className:"".concat(d.input," !w-[95%] mb-4 800px:mb-0"),required:!0,value:o,onChange:e=>m(e.target.value)}),c().createElement("input",{className:"w-[95%] h-[40px] border border-[#3a24db] text-center text-[#3a24db] rounded-[3px] mt-8 cursor-pointer",required:!0,value:"Update",type:"submit",style:{backgroundColor:null==d?void 0:d.mainColor,color:null==d?void 0:d.fontColor}})))))),c().createElement(E.c.Footer,null,c().createElement(v.c,{onClick:e.onHide},"Close")))},w=e=>{var t,a;let{isOwner:n}=e;const[v,E]=(0,l.useState)({}),{products:x}=(0,m.w1)((e=>e.products)),[f,w]=(0,l.useState)(!1),{id:N}=(0,r.W4)(),h=(0,m.OY)(),b=(0,i.U)();(0,l.useEffect)((()=>{h((0,d._Q)(N)),w(!0),s.c.get("".concat(u.Yb,"/shop/get-shop-info/").concat(N)).then((e=>{E(e.data.shop),w(!1)})).catch((e=>{console.log(e),w(!1)}))}),[h,N]);const y=x&&x.reduce(((e,t)=>e+t.reviews.length),0),S=x&&x.reduce(((e,t)=>e+t.reviews.reduce(((e,t)=>e+t.rating),0)),0),C=S/y||0,[k,P]=(0,l.useState)(!1);return c().createElement(c().Fragment,null,f?c().createElement(p.c,null):c().createElement("div",null,c().createElement("div",{className:"w-full py-5"},c().createElement("div",{className:"w-full flex item-center justify-center"},c().createElement("img",{src:"".concat(null===(t=v.avatar)||void 0===t?void 0:t.url),alt:"",className:"w-[150px] h-[150px] object-cover rounded-full"})),c().createElement("h3",{className:"text-center py-2 text-[20px]"},v.name),c().createElement("p",{className:"text-[16px] text-[#000000a6] p-[10px] flex items-center"},null!=v&&v.description&&v.description.length>100?v.description.substring(0,100):v.description)),c().createElement("div",{className:"p-3"},c().createElement("h5",{className:"font-[600]"},"Address"),c().createElement("p",{className:"text-[#000000a6]"},v.address)),c().createElement("div",{className:"p-3"},c().createElement("h5",{className:"font-[600]"},"Phone Number"),c().createElement("p",{className:"text-[#000000a6]"},v.phoneNumber)),c().createElement("div",{className:"p-3"},c().createElement("h5",{className:"font-[600]"},"Total Products"),c().createElement("p",{className:"text-[#000000a6]"},x&&x.length)),c().createElement("div",{className:"p-3"},c().createElement("h5",{className:"font-[600]"},"Shop Ratings"),c().createElement("p",{className:"text-[#000000b0]"},C,"/5")),c().createElement("div",{className:"p-3"},c().createElement("h5",{className:"font-[600]"},"Joined On"),c().createElement("p",{className:"text-[#000000b0]"},null==v||null===(a=v.createdAt)||void 0===a?void 0:a.slice(0,10))),n&&c().createElement("div",{className:"py-3 px-4"},c().createElement(o.cH,{to:"/settings"},c().createElement("div",{className:"!w-full !h-[42px] !rounded-[5px] flex justify-center items-center my-2",style:{backgroundColor:null==b?void 0:b.mainColor,color:null==b?void 0:b.fontColor}},"Edit Shop")),c().createElement("div",{className:"!w-full !h-[42px] !rounded-[5px] cursor-pointer flex justify-center items-center my-2",style:{backgroundColor:null==b?void 0:b.mainColor,color:null==b?void 0:b.fontColor},onClick:e=>{e.preventDefault(),P(!0)}},c().createElement(c().Fragment,null,"Change Password",c().createElement(g,{show:k,onHide:()=>{P(!1)},sellerId:N}))),c().createElement("div",{className:"".concat(b.button," !w-full !h-[42px] !rounded-[5px]"),onClick:async()=>{s.c.get("".concat(u.Yb,"/shop/logout"),{withCredentials:!0}),window.location.reload()}},c().createElement("span",{className:"text-white"},"Log Out")))))};var N=a(79328),h=a(59480);const b=e=>{var t;let{data1:a,isEvent:n,active:s}=e;const{allEvents:r}=(0,m.w1)((e=>e.events)),[i,d]=(0,l.useState)();return(0,l.useEffect)((()=>{const e=null==r?void 0:r.find((e=>e.productArray.some((e=>e._id===a._id))));if(e){const t={...e.productArray.find((e=>e._id===a._id))};t.showInputs?t.colorInputs=t.colorInputs.map((e=>({...e,discountPrice:e.eventPrice,stock:e.eventStock}))):(t.discountPrice=t.eventPrice,t.stock=t.eventStock),d(t)}else d(a)}),[r,a]),c().createElement(c().Fragment,null,i&&c().createElement("div",{className:"w-full h-[200px] bg-white rounded-lg shadow-sm p-3 relative cursor-pointer product-card-border"},c().createElement(o.cH,{to:"/event/".concat(null==i?void 0:i.slug)},c().createElement(c().Fragment,null,c().createElement("div",{className:"w-full pb-2 h-[90px]"},c().createElement("img",{src:"".concat(null==i||null===(t=i.images[0])||void 0===t?void 0:t.url),alt:"",className:"w-full h-full object-contain cardCus-img"})),c().createElement("div",{className:"text-center"},c().createElement("h6",{className:"pt-1 text-[20px] text-[#000]"},(null==a?void 0:a.name.length)>15?(null==a?void 0:a.name.slice(0,15))+"...":null==a?void 0:a.name),c().createElement("p",{className:"text-[12px] text-[#000]"},"Start date :  ",null==a?void 0:a.start_Date.slice(0,10)," ",c().createElement("br",null),"End date : ",null==a?void 0:a.Finish_Date.slice(0,10)))))))};var y=a(72840);const S=e=>{let{isOwner:t}=e;const{products:a}=(0,m.w1)((e=>e.products)),{events:n}=(0,m.w1)((e=>e.events)),{id:s}=(0,r.W4)(),o=(0,m.OY)();(0,l.useEffect)((()=>{o((0,d._Q)(s)),o((0,N.GK)(s))}),[o]);const[i,u]=(0,l.useState)(1),p=a&&a.map((e=>e.reviews)).flat();return c().createElement("div",{className:"w-full"},c().createElement("div",{className:"flex w-full items-center justify-between"},c().createElement("div",{className:"w-full flex"},c().createElement("div",{className:"flex items-center",onClick:()=>u(1)},c().createElement("h5",{className:"font-[600] text-[20px] ".concat(1===i?"text-red-500":"text-[#333]"," cursor-pointer pr-[20px]")},"Shop Products")),c().createElement("div",{className:"flex items-center",onClick:()=>u(2)},c().createElement("h5",{className:"font-[600] text-[20px] ".concat(2===i?"text-red-500":"text-[#333]"," cursor-pointer pr-[20px]")},"Running Events")),c().createElement("div",{className:"flex items-center",onClick:()=>u(3)},c().createElement("h5",{className:"font-[600] text-[20px] ".concat(3===i?"text-red-500":"text-[#333]"," cursor-pointer pr-[20px]")},"Shop Reviews")))),c().createElement("br",null),1===i&&c().createElement("div",{className:"flex flex-wrap gap-[20px]"},a&&a.map(((e,t)=>c().createElement(y.c,{data1:e,key:t})))),2===i&&c().createElement("div",{className:"w-full"},c().createElement("div",{className:"grid grid-cols-1 gap-[20px] md:grid-cols-2 md:gap-[25px] lg:grid-cols-3 lg:gap-[25px] xl:grid-cols-4 xl:gap-[20px] mb-12 border-0"},n&&n.map(((e,t)=>c().createElement(b,{data1:e,key:t,isShop:!0,isEvent:!1})))),n&&0===n.length&&c().createElement("h5",{className:"w-full text-center py-5 text-[18px]"},"No Events for this shop!")),3===i&&c().createElement("div",{className:"w-full"},p&&p.map(((e,t)=>{var a;return c().createElement("div",{className:"w-full flex my-4"},c().createElement("img",{src:"".concat(null===(a=e.user.avatar)||void 0===a?void 0:a.url),className:"w-[30px] h-[30px] rounded-full",alt:""}),c().createElement("div",{className:"pl-2"},c().createElement("div",{className:"flex w-full items-center"},c().createElement("h4",{className:"font-[600] pr-2"},e.user.name),c().createElement(h.c,{rating:e.rating})),c().createElement("p",{className:"font-[400] text-[#000000a7]"},null==e?void 0:e.comment),c().createElement("p",{className:"text-[#000000a7] text-[14px]"},"2days ago")))})),p&&0===p.length&&c().createElement("h5",{className:"w-full text-center py-5 text-[18px]"},"No Reviews for this shop!")))},C=()=>c().createElement(c().Fragment,null,c().createElement(n.c,null),c().createElement("div",{className:"ps-container bg-[#f5f5f5]"},c().createElement("div",{className:"w-full flex py-10 justify-between"},c().createElement("div",{className:"w-[25%] bg-[#fff] rounded-[4px] shadow-sm overflow-y-scroll h-[90vh]"},c().createElement(w,{isOwner:!0})),c().createElement("div",{className:"w-[72%] rounded-[4px] overflow-y-scroll h-[90vh] pr-2"},c().createElement(S,{isOwner:!0})))))},72840:(e,t,a)=>{a.d(t,{c:()=>p});var l=a(11504),c=a.n(l),n=a(37360),s=a(59480),r=a(85976),o=a(76972),m=a(64768),i=a(19036),d=a(38467);const u=e=>{var t,a,n,u,p;let{data:v,active:E}=e;const x=(0,r.U)(),{ConvertCurrency:f}=(0,d.c)(),[g,w]=(0,l.useState)(1),[N,h]=(0,l.useState)(),[b,y]=(0,l.useState)(),[S,C]=(0,l.useState)(!1),[k,P]=(0,l.useState)([]),[O,_]=(0,l.useState)(null!=v&&v.showInputs?null==v?void 0:v.colorInputs[0]:v),[j,A]=(0,l.useState)(!1),[I,F]=(0,l.useState)([]),{getOriginalPrice:H,getDiscountPrice:D}=(0,i.c)({data:v,active:E,click:S,count:g,selectedAttr:k,selectedColor:O,setClick:C,setCount:w,setLimited:y,setMainImg:F,setSelectedAttr:P,setSoldOut:A,setWarning:h});return c().createElement(c().Fragment,null,v&&c().createElement("div",{className:"card main-card"},c().createElement(m.cH,{to:"".concat("/product/".concat(null==v?void 0:v.slug))},c().createElement("div",{className:"shoppage1-card-image"},c().createElement("img",{src:null==v||null===(t=v.mainImage)||void 0===t?void 0:t.url,alt:"productImage"}))),c().createElement("div",{className:"card-body"},c().createElement("div",{className:"row"},c().createElement("div",{className:"col-md-9 col-9"},c().createElement(m.cH,{to:"".concat("/product/".concat(null==v?void 0:v.slug))},c().createElement("div",{className:"shoppage1-price"},c().createElement("h5",null,null==x||null===(a=x.currency)||void 0===a?void 0:a.Symbol," ",f(D({data:v})),c().createElement("span",null,null==x||null===(n=x.currency)||void 0===n?void 0:n.Symbol," ",f(H({data:v}))))),c().createElement("div",{className:"product-star product-brand-span d-flex"},c().createElement(s.c,{rating:null==v?void 0:v.ratings}),(null==v?void 0:v.ratings)&&c().createElement("h6",null,"(",null==v?void 0:v.ratings,")")))),c().createElement("div",{className:"col-md-3 col-3 shoppage1-likeicon p-0"},c().createElement(o.c,{data:v,click:S,setClick:C})),c().createElement("div",{className:"col-12 col-sm-12 col-md-12 pt-2"},c().createElement(m.cH,{to:"".concat("/product/".concat(null==v?void 0:v.slug))},c().createElement("p",null,(null==v||null===(u=v.name)||void 0===u?void 0:u.length)>38?(null==v||null===(p=v.name)||void 0===p?void 0:p.slice(0,48))+"...":null==v?void 0:v.name)))))))},p=e=>{let{data1:t}=e;const[a,s]=(0,l.useState)(null),[r,o]=(0,l.useState)(!1),[m,i]=(0,l.useState)(null),[d,p]=(0,l.useState)(!0);return(0,n.c)({data1:t,data:a,setData:s,setActive:o,setSeller:i,setLoading:p}),c().createElement(c().Fragment,null,a&&c().createElement(u,{data:a,active:r}))}},37360:(e,t,a)=>{a.d(t,{c:()=>n});var l=a(11504),c=a(96800);const n=e=>{let{data1:t,data:a,setData:n,setActive:s,setSeller:r,setLoading:o}=e;const m=null==t?void 0:t._id,{allProducts:i}=(0,c.w1)((e=>e.products)),{allEvents:d}=(0,c.w1)((e=>e.events));(0,l.useEffect)((()=>{const e=null==(t=d)?void 0:t.find((e=>e.productArray.some((e=>e._id===m))));var t;if(e){const t={...e.productArray.find((e=>e._id===m))};s(!0),n(t)}else{const e=null==i?void 0:i.find((e=>e._id===m));n(e)}}),[i,d,m])}}}]);