"use strict";(self.webpackChunkecom=self.webpackChunkecom||[]).push([[2794],{32794:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var l=a(11504),n=a.n(l),c=a(27768),r=a(53740),o=a(66564),u=a(44484),s=a(6840),m=a(96800),d=a(85704),p=a(89340),i=a(20192),b=a(87636),h=a(60580),f=a(85976);const E=()=>{const[e,t]=(0,l.useState)(!1),[a,c]=(0,l.useState)(""),[r,E]=(0,l.useState)(!1),[x,v]=(0,l.useState)([]),[g,w]=(0,l.useState)(null),[y,N]=(0,l.useState)(null),[C,k]=(0,l.useState)(null),[S,j]=(0,l.useState)(null),{seller:A}=(0,m.w1)((e=>e.seller)),{products:D}=(0,m.w1)((e=>e.products)),W=(0,m.OY)(),z=(0,f.U)();(0,l.useEffect)((()=>{E(!0),o.c.get("".concat(d.Yb,"/coupon/get-coupon/").concat(A._id),{withCredentials:!0}).then((e=>{E(!1),v(e.data.couponCodes)})).catch((e=>{E(!1)}))}),[W,A._id]);const P=[{field:"id",headerName:"Id",minWidth:150,flex:.7},{field:"name",headerName:"Coupon Code",minWidth:180,flex:1.4},{field:"price",headerName:"Value",minWidth:100,flex:.6},{field:"Delete",flex:.8,minWidth:120,headerName:"",type:"number",sortable:!1,renderCell:e=>n().createElement(n().Fragment,null,n().createElement(i.c,{onClick:()=>(async e=>{o.c.delete("".concat(d.Yb,"/coupon/delete-coupon/").concat(e),{withCredentials:!0}).then((e=>{p.cp.success("Coupon code deleted succesfully!")})),window.location.reload()})(e.id)},n().createElement(u.ekA,{size:20})))}],Y=[];return x&&x.forEach((e=>{Y.push({id:e._id,name:e.name,price:e.value+" %",sold:10})})),n().createElement(n().Fragment,null,r?n().createElement(h.c,null):n().createElement("div",{className:"w-full mx-8 pt-1 mt-10 bg-white outer1-div"},n().createElement("div",{className:"w-full flex justify-end"},n().createElement("div",{className:"".concat(z.button," !w-max !h-[45px] px-3 !rounded-[5px] mr-3 mb-3"),onClick:()=>t(!0)},n().createElement("span",{className:"text-white create-coupon-code-button"},"Create Coupon Code"))),n().createElement(b.op,{rows:Y,columns:P,pageSize:10,disableSelectionOnClick:!0,autoHeight:!0}),e&&n().createElement("div",{className:"fixed top-0 left-0 w-full h-screen bg-[#00000062] z-[20000] flex items-center justify-center"},n().createElement("div",{className:"w-[90%] 800px:w-[40%] h-[100vh] bg-white rounded-md shadow p-4 dashboard-coupons-overflow"},n().createElement("div",{className:"w-full flex justify-end"},n().createElement(s.eWI,{size:30,className:"cursor-pointer",onClick:()=>t(!1)})),n().createElement("h5",{className:"text-[30px] font-Poppins text-center create-coupon-code-button"},"Create Coupon code"),n().createElement("form",{onSubmit:async e=>{e.preventDefault(),await o.c.post("".concat(d.Yb,"/coupon/create-coupon-code"),{name:a,minAmount:g,maxAmount:y,selectedProducts:C,value:S,shopId:A._id},{withCredentials:!0}).then((e=>{p.cp.success("Coupon code created successfully!"),t(!1),window.location.reload()})).catch((e=>{p.cp.error(e.response.data.message)}))}},n().createElement("br",null),n().createElement("div",null,n().createElement("label",{className:"pb-2"},"Name ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{type:"text",name:"name",required:!0,value:a,className:"mt-2 appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:e=>c(e.target.value),placeholder:"Enter your coupon code name..."})),n().createElement("br",null),n().createElement("div",null,n().createElement("label",{className:"pb-2"},"Discount Percentenge"," ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{type:"text",name:"value",value:S,required:!0,className:"mt-2 appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:e=>j(e.target.value),placeholder:"Enter your coupon code value..."})),n().createElement("br",null),n().createElement("div",null,n().createElement("label",{className:"pb-2"},"Min Amount"),n().createElement("input",{type:"number",name:"value",value:g,className:"mt-2 appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:e=>w(e.target.value),placeholder:"Enter your coupon code min amount..."})),n().createElement("br",null),n().createElement("div",null,n().createElement("label",{className:"pb-2"},"Max Amount"),n().createElement("input",{type:"number",name:"value",value:y,className:"mt-2 appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:e=>N(e.target.value),placeholder:"Enter your coupon code max amount..."})),n().createElement("br",null),n().createElement("div",null,n().createElement("label",{className:"pb-2"},"Selected Product"),n().createElement("select",{className:"w-full mt-2 border h-[35px] rounded-[5px]",value:C,onChange:e=>k(e.target.value)},n().createElement("option",{value:"Choose your selected products"},"Choose a selected product"),D&&D.map((e=>n().createElement("option",{value:e.name,key:e.name},e.name))))),n().createElement("br",null),n().createElement("div",null,n().createElement("input",{type:"submit",value:"Create",className:"mt-2 appearance-none block w-[30%] px-4 h-[35px]   rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 lg:text-lg bg-[#0D6EFD] text-light "})))))))};var x=a(93736);const v=()=>n().createElement("div",null,n().createElement(c.c,{active:0}),n().createElement("div",{className:"flex justify-between w-full dasboard-user-width-mobile"},n().createElement("div",{className:"800px:w-[330px] dashboard-side-bar-res"},n().createElement(r.c,{active:36})),n().createElement("div",{className:"w-full justify-center flex dashboard-side-bar-data-view"},n().createElement(E,null))),n().createElement(x.c,null))}}]);