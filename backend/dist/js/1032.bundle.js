"use strict";(self.webpackChunkecom=self.webpackChunkecom||[]).push([[1032],{61032:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var l=a(11504),n=a.n(l),r=a(27768),c=a(53740),s=a(96800),o=a(83284),m=a(66564),u=a(1784),i=a(13368),d=a(85976),p=a(89340),h=a(16176),g=a(85704),b=a(27784);const E=e=>{let{handleCheckChange:t,handleCategoryChange:a,categories:l,handleSubCategoryChange:r,subCat:c,subSubCat:s,handleFormDataChange:o,formData:m,setFormData:u,wantNewCategory:i,setWantNewCategory:d}=e;return n().createElement(n().Fragment,null,n().createElement("div",null,n().createElement("label",{className:"pb-2  font-[500]"},"Item Name ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{type:"text",name:"name",value:m.name,className:"mt-2 appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:o,placeholder:"Enter your product name..."})),n().createElement("br",null),n().createElement("div",null,n().createElement("label",{className:"pb-2 font-[500]"},"Does Product have variations ? ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("div",{className:"d-flex "},n().createElement("div",{className:"mr-2"},n().createElement("input",{type:"radio",name:"assemblyReq",className:"mr-1",onChange:e=>{u({...m,showInputs:!0})},checked:m.showInputs&&!0}),n().createElement("label",{className:"pb-2 font-[500]"},"Yes")),n().createElement("div",null,n().createElement("input",{type:"radio",name:"assemblyReq",className:"mr-1",onChange:e=>{u({...m,showInputs:!1})},checked:!m.showInputs&&!0}),n().createElement("label",{className:"pb-2 font-[500]"},"No")))),n().createElement("br",null),n().createElement("div",null,n().createElement("label",{className:"pb-2 font-[500]"},"Brand Name ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{maxLength:15,type:"text",name:"brandName",value:m.brandName,className:"mt-2 appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:o,placeholder:"Enter your Brand name..."})),n().createElement("br",null),n().createElement("div",null,n().createElement("label",{className:"pb-2 font-[500]"},"Have Product ID ?"),n().createElement("input",{className:"mx-2",type:"checkbox",onChange:e=>{!1===m.productIdState?u({...m,productIdState:!0}):u({...m,productIdState:!1})},checked:!0===m.productIdState}),n().createElement("br",null),n().createElement("span",{className:"attribute-eg"},n().createElement("i",null,"Note :- Product ID can't be changed once submitted."))),n().createElement("br",null),m.productIdState&&n().createElement(n().Fragment,null,n().createElement("div",null,n().createElement("label",{className:"pb-2 font-[500]"},"Product ID",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{type:"text",name:"productId",value:m.productId,className:"mt-2 appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:o,placeholder:"Enter your Product ID..."})),n().createElement("br",null)),n().createElement("div",null,n().createElement("label",{className:"pb-2 font-[500]"},"Category ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("select",{className:"w-full mt-2 border h-[35px] rounded-[5px]",value:m.category,onChange:e=>a(e)},n().createElement("option",{value:"Choose a category",className:"font-[300] text-[16px]"},"Choose a category"),l&&l.map((e=>n().createElement("option",{value:e._id,key:e.name,className:"font-[300] text-[16px]"},e.name))))),n().createElement("br",null),n().createElement("div",null,n().createElement("label",{className:"pb-2 font-[500]"},"Sub Category ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("select",{className:"w-full mt-2 border h-[35px] rounded-[5px]",onChange:e=>r(e)},n().createElement("option",{value:"Choose a category"},"Choose Sub category"),l&&c.map((e=>n().createElement("option",{value:e._id,key:e.name},e.name))))),n().createElement("br",null),n().createElement("div",null,n().createElement("label",{className:"pb-2 font-[500]"},"Sub Sub-Category ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("select",{className:"w-full mt-2 border h-[35px] rounded-[5px]",value:m.subSubCategory,name:"subSubCategory",onChange:o},n().createElement("option",{value:"Choose a category"},"Choose Sub category"),l&&s.map((e=>n().createElement("option",{value:e._id,key:e._id},null==e?void 0:e.name))))),n().createElement("br",null),n().createElement("div",null,n().createElement("label",{className:"pb-2 font-[500]"},"Want New Category?"),n().createElement("input",{className:"mx-2",type:"checkbox",onChange:e=>{d(!1===i)},checked:!0===i}),n().createElement("br",null)),i&&n().createElement(b.c,{categories:l}))};var v=a(63444),f=a(64464);const y=e=>{let{searchTerms:t,setSearchTerms:a,formData:r,colorInputs:c}=e;const s=(0,d.U)(),[o,m]=(0,l.useState)(""),{fetchCategory:u,fetchSubCategory:i,fetchSubSubCategory:h}=(0,f.c)();return n().createElement(n().Fragment,null,n().createElement("div",null,n().createElement("label",{className:"pb-2"},"Search Terms ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("div",{className:"d-flex"},n().createElement("input",{type:"text",value:o,name:"searchTerms",className:"appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:e=>{e.preventDefault();const t=e.target.value;m(t)}}),n().createElement("button",{className:"rounded px-2 py-1 mx-2 bg-green-500 text-light",style:{backgroundColor:null==s?void 0:s.mainColor,color:null==s?void 0:s.fontColor},onClick:e=>{e.preventDefault();const l=o.toLowerCase();if(t.includes(l))p.cp.error("Term already exists in searchTerms");else{const e=[...t,l];a(e),m("")}}},"Add")),n().createElement("button",{className:"rounded px-4 py-2 mt-3 bg-blue-500 text-light",style:{backgroundColor:null==s?void 0:s.mainColor,color:null==s?void 0:s.fontColor},onClick:async e=>{let l;e.preventDefault(),l=r.showInputs?await(async()=>{const{brandName:e,name:t,productId:a,category:l,subCatgory:n,subSubCategory:s,itemCondition:o,model:m,materialType:d,manufacturer:p}=r,g={skuCode:[],varientName:[],price:[],materialType:[]};c.forEach((e=>{const{varientSKU:t,imageColor:a,discountPrice:l,inputMaterialType:n}=e;g.skuCode.push(null==t?void 0:t.toLowerCase()),g.varientName.push(null==a?void 0:a.toLowerCase()),g.price.push(null==l?void 0:l.toLowerCase()),g.materialType.push(null==n?void 0:n.toLowerCase())}));const b=Object.values(g).flatMap((e=>e.filter((e=>"string"==typeof e)))),E=[...b];if(e&&E.push(e),t&&E.push(t),a&&E.push(a),l){let e=u(l);E.push(null==e?void 0:e.name)}if(n){let e=i(l,n);E.push(null==e?void 0:e.name)}if(s){let e=h(l,n,s);E.push(null==e?void 0:e.name)}return o&&E.push(o),m&&E.push(m),d&&E.push(d),p&&E.push(p),E})():(()=>{const{brandName:e,name:t,productId:a,category:l,subCatgory:n,subSubCategory:c,sellerSKU:s,discountPrice:o,itemCondition:m,model:d,size:p,color:g,materialType:b,manufacturer:E}=r,v=[];if(e&&v.push(e),t&&v.push(t),a&&v.push(a),l){let e=u(l);v.push(null==e?void 0:e.name)}if(n){let e=i(l,n);v.push(null==e?void 0:e.name)}if(c){let e=h(l,n,c);v.push(null==e?void 0:e.name)}return s&&v.push(s),o&&v.push(o),m&&v.push(m),d&&v.push(d),p&&v.push(p),g&&v.push(g),b&&v.push(b),E&&v.push(E),v})();const n=new Set(t.map((e=>"string"==typeof e?e.toLowerCase():e)));for(const e of l)"string"==typeof e&&n.add(e.toLowerCase());const s=[...n];a(s)}},"Generate Search Terms"),n().createElement("span",{className:"attribute-eg"},n().createElement("i",null,"Note :- Re-generate search terms after every changes."))),n().createElement("br",null),n().createElement("div",{className:"keyword-array-div gnrt"},t.map(((e,l)=>n().createElement(n().Fragment,{key:l},n().createElement("p",{className:"gnrt-p1"},e,"  ",n().createElement("button",{className:"gnrt-btn",onClick:e=>{((e,l)=>{e.preventDefault();const n=[...t];n.splice(l,1),a(n)})(e,l)}},"x")))))))};var C=a(47956),N=a(15896),x=a(76542),k=a(44484);const w=e=>{let{handleImageChange:t,images:a,handleRemove:l,formData:r,handleMainImageChange:c,mainImage:s,setMainImage:o}=e;return n().createElement(n().Fragment,null,n().createElement("div",null,n().createElement("label",{className:"pb-2 font-[500]"},"Main Image ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{type:"file",name:"",id:"MainImage",className:"hidden",onChange:c}),n().createElement("div",{className:"w-full flex items-center flex-wrap"},n().createElement("label",{htmlFor:"MainImage"},n().createElement(k.Sks,{size:30,className:"mt-3",color:"#555"})),""!==s&&n().createElement("div",{className:"image-div"},n().createElement("img",{src:s,alt:"main",className:"h-[130px] w-[130px] object-cover"}),n().createElement("button",{onClick:e=>{e.preventDefault(),o("")},className:"images-delete-btn"},n().createElement(x.u,{icon:N._8k,style:{color:"red"}})))),n().createElement("br",null)),n().createElement("div",null,n().createElement("label",{className:"pb-2 font-[500]"},"Upload Multiple Images ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{type:"file",name:"",id:"upload",className:"hidden",multiple:!0,onChange:t}),n().createElement("div",{className:"w-full flex items-center flex-wrap"},n().createElement("label",{htmlFor:"upload"},n().createElement(k.Sks,{size:30,className:"mt-3",color:"#555"})),a&&a.map(((e,t)=>n().createElement("div",{className:"image-div"},n().createElement("img",{src:e,key:e,alt:"",className:"h-[130px] w-[130px] object-cover"}),n().createElement("button",{onClick:e=>{l(e,t)},className:"images-delete-btn"},n().createElement(x.u,{icon:N._8k,style:{color:"red"}})))))),n().createElement("br",null)),n().createElement("br",null))};var S=a(5588);const I=e=>{let{colorInputs:t,setColorInputs:a,dimensions:l,weight:r,materialTypeStatus:c}=e;const s=(0,d.U)(),o=(e,l,n)=>{const r=[...t];if("SKU"!==l)r[e][l]=n,a(r);else{if(/^[a-zA-Z0-9]*$/.test(n)){const t=n.toUpperCase();r[e][l]=t}a(r)}},m=(e,l,n,r,c)=>{const s=[...t];"name"===n?s[e].attributes[l].name=r:"values"===n?s[e].attributes[l].values[c].valName=r:"stock"===n&&(s[e].attributes[l].values[c].stock=r),a(s)};return n().createElement("div",null,t.map(((e,u)=>n().createElement("div",{key:u},n().createElement("h4",{className:"mt-5"}," ",n().createElement("b",null,"Varient ",u+1)," "),n().createElement("div",{className:"mt-3 mb-4"},n().createElement("label",null,"Varient Image ",n().createElement("span",{className:"text-red-500"},"*")),"  ",n().createElement("input",{type:"file",accept:"image/*",className:"mt-1",onChange:e=>((e,l)=>{const n=l.target.files[0];if(n){const l=new FileReader;l.onloadend=()=>{const n=l.result,r=[...t];r[e].image.url=n,a(r)},l.readAsDataURL(n)}})(u,e)})),e.image.url&&n().createElement(n().Fragment,null,n().createElement("img",{className:"mt-4 mb-3",src:e.image.url,alt:"Color ".concat(u+1),style:{width:"100px",height:"100px"}})),n().createElement("div",null,n().createElement("label",{className:"pb-2"},"SKU Code",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{type:"text",name:"SKU",value:e.SKU,className:"mt-2 appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:e=>o(u,"SKU",e.target.value),placeholder:"Enter SKU..."})),n().createElement("br",null),n().createElement("div",null,n().createElement("label",null,"Varient Name: ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{maxLength:15,className:"w-full mt-2 border pl-2 h-[35px] rounded-[5px]",type:"text",value:e.imageColor,onChange:e=>o(u,"imageColor",e.target.value)})),n().createElement("div",{className:"mt-4"},n().createElement("label",null,"Discount Price: ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{className:"w-full mt-2 border pl-2 h-[35px] rounded-[5px]",type:"number",value:e.discountPrice,onChange:e=>o(u,"discountPrice",e.target.value)})),n().createElement("div",{className:"mt-4"},n().createElement("label",null,"Original Price: ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{className:"w-full mt-2 border pl-2 h-[35px] rounded-[5px]",type:"number",value:e.originalPrice,onChange:e=>o(u,"originalPrice",e.target.value)})),n().createElement("div",{className:"mt-4"},n().createElement("label",{className:"pb-2 mr-2"},"Have attributes ?"),n().createElement("input",{className:"mx-2",type:"checkbox",name:"assemblyReq",onChange:e=>{((e,l)=>{const n=[...t];n[l].haveAttributes=!n[l].haveAttributes,a(n)})(0,u)},checked:!!e.haveAttributes})),e.haveAttributes&&n().createElement("div",{className:"mt-4"},n().createElement("label",{className:"pb-2"},"Have Seperate Stock Limit for each selectable attribute value ?"," "),n().createElement("input",{className:"mx-2",type:"checkbox",name:"assemblyReq",onChange:e=>{((e,l)=>{const n=[...t];n[l].attributeStock=!n[l].attributeStock,a(n)})(0,u)},checked:!!e.attributeStock})),!e.attributeStock&&n().createElement("div",{className:"mt-4"},n().createElement("label",null,"Stock: ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{className:"w-full mt-2 border pl-2 h-[35px] rounded-[5px]",type:"number",value:e.stock,onChange:e=>o(u,"stock",e.target.value)})),e.haveAttributes&&n().createElement("div",{className:"mt-4"},n().createElement("label",null,"Selectable Attributes: ",n().createElement("span",{className:"text-red-500"},"*"),n().createElement("span",{className:"attribute-eg"},n().createElement("i",null,"Eg :- RAM(key) : 8GB, 12GB(value)"))),e.attributes.map(((l,r)=>n().createElement("div",{key:r},n().createElement("input",{className:"w-half mt-2 mr-2 border pl-2 h-[35px] rounded-[5px]",type:"text",placeholder:"Key",value:l.name,onChange:e=>m(u,r,"name",e.target.value)}),n().createElement("br",null),l.values.map(((l,c)=>n().createElement(n().Fragment,null,n().createElement(n().Fragment,null,n().createElement("input",{className:"w-half mt-2 mr-2 border pl-2 h-[35px] rounded-[5px]",type:"text",placeholder:"Value",value:l.valName,onChange:e=>m(u,r,"values",e.target.value,c)}),e.attributeStock&&n().createElement("input",{className:"w-half mt-2 mr-2 border pl-2 h-[35px] rounded-[5px]",type:"text",placeholder:"Stock",value:l.stock,onChange:e=>m(u,r,"stock",e.target.value,c)}),n().createElement("button",{className:"rounded px-4 py-2 mx-2",style:{backgroundColor:null==s?void 0:s.mainColor,color:null==s?void 0:s.fontColor},onClick:e=>((e,l,n)=>{e.preventDefault();const r=[...t];r[l].attributes[n].values.push({valName:"",stock:null,eventStock:null,sold_out:0}),a(r)})(e,u,r)},"Add Value"),n().createElement("button",{className:"varient-btn cat-btn5",onClick:e=>((e,l,n,r)=>{e.preventDefault();const c=[...t];c[l].attributes[n].values.splice(r,1),a(c)})(e,u,r,c)},"Remove Value")),n().createElement("br",null)))),n().createElement("button",{className:"varient-btn cat-btn5",onClick:e=>((e,l,n)=>{e.preventDefault();const r=[...t];r[l].attributes.splice(n,1),a(r)})(e,u,r)},"Remove Attribute")))),n().createElement("button",{className:"rounded px-4 py-2",style:{backgroundColor:null==s?void 0:s.mainColor,color:null==s?void 0:s.fontColor},onClick:e=>((e,l)=>{e.preventDefault();const n=[...t];n[l].attributes.push({name:"",values:[{valName:"",stock:null,eventStock:null,sold_out:0}]}),a(n)})(e,u)},"Add Attribute")),!l&&n().createElement(n().Fragment,null,n().createElement("div",{className:"mt-4"},n().createElement("label",{className:"pb-2"},n().createElement("b",null,"Item Dimensions L X W X H ")),n().createElement("div",{className:""},n().createElement("label",{className:"mt-3"},"Item length head to toe ",n().createElement("span",{className:"text-gray-500 text-[13px]"},"(in cm)")),n().createElement("br",null),n().createElement("input",{type:"number",name:"itemLength",value:e.itemLength,className:"w-half mt-2 mr-2 border pl-2 h-[35px] rounded-[5px]",onChange:e=>o(u,"itemLength",e.target.value)})),n().createElement("div",{className:""},n().createElement("label",{className:"mt-3"},"Item width side to side",n().createElement("span",{className:"text-gray-500 text-[13px]"},"(in cm)")),n().createElement("br",null),n().createElement("input",{type:"number",name:"itemWidth",value:e.itemWidth,className:"w-half mt-2 mr-2 border pl-2 h-[35px] rounded-[5px]",onChange:e=>o(u,"itemWidth",e.target.value)})),n().createElement("div",{className:""},n().createElement("label",{className:"mt-3"},"Item Height floor to top",n().createElement("span",{className:"text-gray-500 text-[13px]"},"(in cm)")),n().createElement("br",null),n().createElement("input",{type:"number",name:"itemHeight",value:e.itemHeight,className:"w-half mt-2 mr-2 border pl-2 h-[35px] rounded-[5px]",onChange:e=>o(u,"itemHeight",e.target.value)}))),n().createElement("br",null)),!r&&n().createElement(n().Fragment,null,n().createElement("div",{className:""},n().createElement("label",{className:"mt-2"},"Item Weight",n().createElement("span",{className:"text-gray-500 text-[13px]"},"(in kg)")," ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("br",null),n().createElement("input",{type:"number",name:"itemWeight",value:e.itemWeight,className:"w-half mt-2 mr-2 border pl-2 h-[35px] rounded-[5px]",onChange:e=>o(u,"itemWeight",e.target.value)})),n().createElement("br",null)),!c&&n().createElement(n().Fragment,null,n().createElement("div",null,n().createElement("label",{className:"pt-3"},"Material Type",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{type:"text",name:"materialType",value:e.materialType,className:"mt-2 appearance-none block w-full px-3 h-[35px] border border-gray-300 rounded-[3px] placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:e=>o(u,"materialType",e.target.value)})),n().createElement("br",null)),n().createElement("button",{className:"varient-btn generate-add-btn cat-btn5 remove-varient mt-3",onClick:e=>((e,l)=>{e.preventDefault();const n=[...t];n.splice(l,1),a(n)})(e,u)},"Remove Varient ",u+1)))),n().createElement("button",{className:"rounded px-4 py-2 my-2",style:{backgroundColor:null==s?void 0:s.mainColor,color:null==s?void 0:s.fontColor},onClick:e=>{e.preventDefault(),a((e=>[...e,{SKU:"",image:{public_id:"",url:""},imageColor:"",originalPrice:"",discountPrice:"",eventPrice:"",eventStock:null,stock:null,sold_out:0,length:"",width:"",height:"",weight:"",materialType:"",haveAttributes:!1,attributeStock:!1,attributes:[{name:"",values:[{valName:"",stock:null,eventStock:null,sold_out:0}]}]}]))}},"Add Varient"))},D=e=>{let{colorInputs:t,setColorInputs:a,formData:l,setFormData:r}=e;return n().createElement(n().Fragment,null,n().createElement(I,{colorInputs:t,setColorInputs:a,dimensions:l.ataDimension,weight:l.ataWeight,materialTypeStatus:l.ataMaterials,formData:l,setFormData:r}))};var U=a(42188);const P=async(e,t)=>{for(const a of e){if(""===a.name)return!0;if(t){for(const e of a.values)if(""===e.valName||null===e.stock||""===e.stock)return!0}else for(const e of a.values)if(""===e.valName)return!0}return!1},T=async e=>{let t=!1;for(const a of e)t||""!==a.key.name&&0!==a.key.value.length||(t=!0);return t},W=()=>{const e=(0,d.U)(),{seller:t}=(0,s.w1)((e=>e.seller)),{success:a,error:r,successDraft:c}=(0,s.w1)((e=>e.products)),b=(0,o.i6)(),f=(0,s.OY)(),[N,x]=(0,l.useState)(1),[k,I]=(0,l.useState)([]),[W,A]=(0,l.useState)({name:"",brandName:"",productIdState:!1,productId:"",showInputs:!1,category:"",subCatgory:"",subSubCategory:"",SKU:"",productTaxCode:"",taxPercent:null,originalPrice:"",discountPrice:"",haveAttributes:!1,attributeStock:!1,attributes:null,itemCondition:"New",conditionNote:"",maxOrderQuantity:"",giftMessaged:"",giftWrapAvailable:"",hsnCode:null,description:"",productDescription:[],model:"",noItem:"",itemname:"",stock:null,codAvailable:!1,refundAvailable:!1,ataDimension:!1,itemLength:"",itemLengthUnit:"Centemeter",itemWidth:"",itemWidthUnit:"Centemeter",itemHeight:"",itemHeightUnit:"Centemeter",ataWeight:!1,itemWeight:"",itemWeightUnit:"Gram",assemblyReq:!1,noOfPieces:"",components:"",assemblyInstruction:"",size:"",color:"",ataMaterials:!1,materialType:"",manufacturer:"",shop:null,safetyWarning:"",packageHeight:"",packageHeightUnit:"Centemeter",packageLength:"",packageLengthhUnit:"Centemeter",packageWidth:"",packageWidthUnit:"Centemeter",packageWeight:"",packageWeightUnit:"Gram",productCareInstruction:"",shape:"",warrentyDescription:"",constructionType:"",colorInputs:null,shopId:t._id,approved:!0,rejected:!1,eventPrice:0,eventStock:0,searchTerms:null,mainImage:{public_id:"",url:""},images:null,specs:null,specs2:null,draft:null}),[F,L]=(0,l.useState)(null==W?void 0:W.productDescription),_=e=>{const{name:t,value:a}=e.target;if("productId"!==t&&"productTaxCode"!==t&&"SKU"!==t){if("hsnCode"!==t)A({...W,[t]:a});else if(/^[0-9]{0,15}$/.test(a)){const e=a.toUpperCase();A({...W,[t]:e})}}else if(/^[a-zA-Z0-9]*$/.test(a)){const e=a.toUpperCase();A({...W,[t]:e})}},[H,R]=(0,l.useState)(""),[M,z]=(0,l.useState)([]),[K,V]=(0,l.useState)(),[O,j]=(0,l.useState)(!1),[q,Y]=(0,l.useState)([]);(0,l.useEffect)((()=>{r&&p.cp.error(r),a&&(p.cp.success("Product created successfully!"),b("/dashboard")),c&&(p.cp.success("Product Drafted successfully!"),b("/dashboard")),m.c.get("".concat(g.Yb,"/category/get-all-categories")).then((async e=>{V(e.data.categories)})).catch((e=>{p.cp.error(r.response.data.message)}))}),[f,r,a,c,b]);const[G,$]=(0,l.useState)([]),[B,Z]=(0,l.useState)([]),[X,Q]=(0,l.useState)([{heading:"",key:{name:"",value:[]}}]),[J,ee]=(0,l.useState)([{heading:"",key:{name:"",value:""}}]),[te,ae]=(0,l.useState)([{name:"",values:[{valName:"",stock:null,eventStock:null,sold_out:0}]}]),[le,ne]=(0,l.useState)([{SKU:"",image:{public_id:"",url:""},imageColor:"",originalPrice:"",discountPrice:"",eventPrice:"",eventStock:null,stock:null,sold_out:0,length:"",width:"",height:"",itemWeight:"",materialType:"",haveAttributes:!1,attributeStock:!1,attributes:[{name:"",values:[{valName:"",stock:null,eventStock:null,sold_out:0}]}]}]);return n().createElement("div",{className:"w-[90%] 800px:w-[50%] bg-white  shadow h-[90vh] rounded-[4px] p-3 overflow-y-scroll create-width"},n().createElement("h5",{className:"text-[30px] font-Poppins text-center font-[400]"},"Create Product"),n().createElement("form",{onSubmit:async e=>{e.preventDefault(),W.colorInputs=le,W.images=k,W.specs=X,W.specs2=J,W.attributes=te,W.searchTerms=M,W.mainImage.url=H,W.draft=!1,W.productDescription=F;const t=await(async(e,t)=>{const a=[];""!==e.name&&""!==e.brandName&&""!==e.category&&""!==e.subCatgory&&""!==e.subSubCategory||a.push(1),e.productIdState&&(""===e.productId?a.push(1):/^[a-zA-Z0-9]+$/.test(e.productId)||a.push(1)),""!==e.productTaxCode&&""!==e.itemCondition&&null!==e.hsnCode||a.push(2),""!==e.mainImage.url&&0!==e.images.length||a.push(4),""===e.description&&a.push(5),await T(e.specs)&&a.push(5),await T(e.specs2)&&a.push(5),""!==e.model&&""!==e.noItem&&""!==e.itemWeight&&""!==e.itemWeightUnit&&""!==e.materialType&&""!==e.manufacturer||(console.log("error"),a.push(7)),e.assemblyReq&&(""!==e.noOfPieces&&""!==e.components&&""!==e.assemblyInstruction||(console.log("error"),a.push(7))),0===e.searchTerms.length&&a.push(3),""!==e.safetyWarning&&""!==e.shape&&""!==e.packageWeight&&""!==e.packageWeightUnit&&""!==e.packageHeight&&""!==e.packageHeightUnit&&""!==e.packageLength&&""!==e.packageLengthhUnit&&""!==e.packageWidth&&""!==e.packageWidthUnit&&""!==e.productCareInstruction&&""!==e.shape&&""!==e.constructionType||a.push(9),e.showInputs?await(async(e,t)=>{let a=!1;for(const l of e)a||""!==l.image.url&&""!==l.discountPrice&&""!==l.originalPrice&&""!==l.varientSKU&&""!==l.imageColor||(a=!0),a||t.ataWeight||""===l.weight&&(a=!0),a||t.ataMaterials||""===l.materialType&&(a=!0),!a&&l.haveAttributes&&await P(l.attributes,l.attributeStock)&&(a=!0);return a})(e.colorInputs,e)&&a.push(8):(""!==e.sellerSKU&&""!==e.originalPrice&&""!==e.discountPrice||a.push(2),e.haveAttributes?await P(e.attributes,e.attributeStock)&&a.push(2):null!==e.stock&&""!==e.stock||a.push(7),""!==e.size&&""!==e.color||(console.log("error",e.size,e.color,e.stock),a.push(7)));const l=new Set(a),n=Array.from(l);return n.length>0?(t(n),p.cp.error("All mandatory fields must be filled"),!1):(t([]),!0)})(W,Y);t&&f((0,h.M$)(W))}},n().createElement("br",null),n().createElement("div",{className:"track-status"},n().createElement("p",{className:"d-flex",onClick:()=>{x(1)},style:{color:1===N?"red":"black"}},"Product Identity",n().createElement("span",null,q.includes(1)&&n().createElement(i.mU.Provider,{value:{color:"red"}},n().createElement(u.awH,{size:20,color:"red"})))),n().createElement("p",{onClick:()=>{x(2)},className:"d-flex",style:{color:2===N?"red":"black"}},"Offer",n().createElement("span",null,q.includes(2)&&n().createElement(i.mU.Provider,{value:{color:"red"}},n().createElement(u.awH,{size:20,color:"red"})))),n().createElement("p",{onClick:()=>{x(4)},className:"d-flex",style:{color:4===N?"red":"black"}},"Images",n().createElement("span",null,q.includes(4)&&n().createElement(i.mU.Provider,{value:{color:"red"}},n().createElement(u.awH,{size:20,color:"red"})))),n().createElement("p",{onClick:()=>{x(5)},className:"d-flex",style:{color:5===N?"red":"black"}},"Description",n().createElement("span",null,q.includes(5)&&n().createElement(i.mU.Provider,{value:{color:"red"}},n().createElement(u.awH,{size:20,color:"red"})))),n().createElement("p",{onClick:()=>{x(7)},className:"d-flex",style:{color:7===N?"red":"black"}},"Vital Info",n().createElement("span",null,q.includes(7)&&n().createElement(i.mU.Provider,{value:{color:"red"}},n().createElement(u.awH,{size:20,color:"red"})))),W.showInputs&&n().createElement("p",{onClick:()=>{x(8)},className:"d-flex",style:{color:8===N?"red":"black"}},"Variations",n().createElement("span",null,q.includes(8)&&n().createElement(i.mU.Provider,{value:{color:"red"}},n().createElement(u.awH,{size:20,color:"red"})))),n().createElement("p",{onClick:()=>{x(3)},className:"d-flex",style:{color:3===N?"red":"black"}},"Keywords",n().createElement("span",null,q.includes(3)&&n().createElement(i.mU.Provider,{value:{color:"red"}},n().createElement(u.awH,{size:20,color:"red"})))),n().createElement("p",{onClick:()=>{x(9)},className:"d-flex",style:{color:9===N?"red":"black"}},"More Details",n().createElement("span",null,q.includes(9)&&n().createElement(i.mU.Provider,{value:{color:"red"}},n().createElement(u.awH,{size:20,color:"red"}))))),1===N&&n().createElement(E,{handleCheckChange:()=>{!0===W.showInputs?A({...W,showInputs:!1}):A({...W,showInputs:!0})},handleCategoryChange:e=>{e.preventDefault(),A({...W,category:e.target.value}),K.map((t=>{t._id===e.target.value&&$(t.subcategories)})),Z([])},categories:K,handleSubCategoryChange:e=>{e.preventDefault(),A({...W,subCatgory:e.target.value}),G.map((t=>{t._id===e.target.value&&Z(t.subSubcategories)}))},subCat:G,subSubCat:B,handleFormDataChange:_,formData:W,setFormData:A,wantNewCategory:O,setWantNewCategory:j}),2===N&&n().createElement(v.c,{formData:W,handleFormDataChange:_,attributes:te,setAttributes:ae,setFormData:A}),3===N&&n().createElement(y,{searchTerms:M,setSearchTerms:z,formData:W,colorInputs:le}),4===N&&n().createElement(w,{handleRemove:(e,t)=>{e.preventDefault();const a=[...k];a.splice(t,1),I(a)},handleImageChange:e=>{const t=Array.from(e.target.files);I([]),t.forEach((e=>{const t=new FileReader;t.onload=()=>{2===t.readyState&&I((e=>[...e,t.result]))},t.readAsDataURL(e)}))},images:k,formData:W,handleMainImageChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onloadend=()=>{const t=e.result;R(t)},e.readAsDataURL(t)}},mainImage:H,setMainImage:R}),5===N&&n().createElement(C.c,{specification:X,setSpecification:Q,specification2:J,setSpecification2:ee,formData:W,handleFormDataChange:_,productDetails:F,setProductDetails:L}),7===N&&n().createElement(S.c,{formData:W,handleFormDataChange:_,setFormData:A}),8===N&&n().createElement(D,{colorInputs:le,setColorInputs:ne,formData:W,weight:!1,materialTypeStatus:!1}),9===N&&n().createElement(U.c,{formData:W,handleFormDataChange:_,setFormData:A}),n().createElement("div",{className:"draft-create-btn"},n().createElement("button",{onClick:e=>{e.preventDefault(),W.draft=!0,W.attributes=te,W.searchTerms=M,W.specs=X,W.specs2=J,W.colorInputs=le,W.images=k,W.productDescription=F,H&&(W.mainImage.url=H),f((0,h.YN)(W,k,t._id))},className:"rounded px-4 py-2",style:{backgroundColor:null==e?void 0:e.mainColor,color:null==e?void 0:e.fontColor}},"Save as Draft"),!O&&n().createElement("div",{className:""},n().createElement("input",{type:"submit",value:"Create",className:"rounded px-4 bg-green-500 py-2 text-white"})))))};var A=a(93736);const F=()=>n().createElement("div",null,n().createElement(r.c,null),n().createElement("div",{className:"flex  justify-between w-full dasboard-user-width-mobile"},n().createElement("div",{className:"800px:w-[330px] dashboard-side-bar-res"},n().createElement(c.c,{active:6})),n().createElement("div",{className:"w-full justify-center flex dashboard-side-bar-data-view"},n().createElement(W,{active:6}))),n().createElement(A.c,null))},64464:(e,t,a)=>{a.d(t,{c:()=>c});var l=a(11504),n=a(96800),r=a(77980);const c=()=>{const e=(0,n.OY)(),{category:t}=(0,n.w1)((e=>e.category));(0,l.useEffect)((()=>{e((0,r.Y)())}),[e]);const a=e=>{let a=t.find((t=>(null==t?void 0:t._id)===e));if(a)return a},c=(e,t)=>{let l=a(e);var n;if(l)return null==l||null===(n=l.subcategories)||void 0===n?void 0:n.find((e=>(null==e?void 0:e._id)===t))};return{fetchCategory:a,fetchSubCategory:c,fetchSubSubCategory:(e,t,a)=>{let l=c(e,t);var n;if(l)return null==l||null===(n=l.subSubcategories)||void 0===n?void 0:n.find((e=>(null==e?void 0:e._id)===a))}}}}}]);