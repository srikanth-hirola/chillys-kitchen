"use strict";(self.webpackChunkecom=self.webpackChunkecom||[]).push([[8304],{68304:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var l=a(11504),n=a.n(l),s=a(27768),c=a(53740),r=a(96800),m=a(66564),d=a(85704),o=a(89340),i=a(60580),p=a(32602);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},u.apply(this,arguments)}const E=e=>{const{seller:t}=(0,r.w1)((e=>e.seller)),[a,s]=(0,l.useState)({pickup_location:"",name:"",email:"",phone:null,address:"",address_2:"",city:"",state:"",country:"",pin_code:null}),c=e=>{const{name:t,value:l}=e.target;"phone"===t&&/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(l)&&s({...a,[t]:l}),s({...a,[t]:l})};return n().createElement(p.c,u({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),n().createElement(p.c.Header,{closeButton:!0},n().createElement(p.c.Title,{id:"contained-modal-title-vcenter"},"Add PickUp Address")),n().createElement(p.c.Body,null,n().createElement("form",{onSubmit:async e=>{e.preventDefault();try{if(""!==a.pickup_location&&""!==a.name&&""!==a.email&&null!==a.phone&&""!==a.address&&""!==a.city&&""!==a.state&&""!==a.country&&""!==a.pin_code||(o.cp.error("All Fields are required"),0)){const e=t._id;await m.c.post("".concat(d.Yb,"/shipping/add-pickup-address"),{sellerId:e,formData:a}),o.cp.success("Added Pickup Address Successfully")}}catch(e){o.cp.error(e.response.data.message)}}},n().createElement("div",null,n().createElement("h4",null,"Contact Info"),n().createElement("div",{className:"mb-2"},n().createElement("label",{className:"mr-2 w-[180px]"},"Address Nickname",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{name:"pickup_location",className:"border-1 rounded px-2 py-1",placeholder:"Enter Address NickName",type:"text",onChange:c})),n().createElement("div",{className:"mb-2"},n().createElement("label",{className:"mr-2 w-[180px]"},"Contact Name",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{name:"name",className:"border-1 rounded px-2 py-1",placeholder:"Enter Contact Name",type:"text",onChange:c})),n().createElement("div",{className:"mb-2"},n().createElement("label",{className:"mr-2 w-[180px]"},"Phone",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{name:"phone",className:"border-1 rounded px-2 py-1",placeholder:"Enter Phone Numbere",type:"number",onChange:c})),n().createElement("div",{className:"mb-2"},n().createElement("label",{className:"mr-2 w-[180px]"},"email",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{name:"email",className:"border-1 rounded px-2 py-1",placeholder:"Enter Email Id",type:"email",onChange:c}))),n().createElement("div",{className:"pt-4"},n().createElement("h4",null,"Address Details"),n().createElement("div",{className:"mb-2"},n().createElement("label",{className:"mr-2 w-[180px]"},"Address Line 1 ",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{name:"address",className:"border-1 rounded px-2 py-1",placeholder:"Enter Address Line 1",type:"text",onChange:c})),n().createElement("div",{className:"mb-2"},n().createElement("label",{className:"mr-2 w-[180px]"},"Address Line 2"),n().createElement("input",{name:"address_2",className:"border-1 rounded px-2 py-1",placeholder:"Enter Address Line 2",type:"text",onChange:c})),n().createElement("div",{className:"mb-2"},n().createElement("label",{className:"mr-2 w-[180px]"},"Pincode",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{name:"pin_code",className:"border-1 rounded px-2 py-1",placeholder:"Enter Pincode",type:"number",onChange:c})),n().createElement("div",{className:"mb-2"},n().createElement("label",{className:"mr-2 w-[180px]"},"City",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{name:"city",className:"border-1 rounded px-2 py-1",placeholder:"Enter City Name",type:"text",onChange:c})),n().createElement("div",{className:"mb-2"},n().createElement("label",{className:"mr-2 w-[180px]"},"State",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{name:"state",className:"border-1 rounded px-2 py-1",placeholder:"Enter State Name",type:"text",onChange:c})),n().createElement("div",{className:"mb-2"},n().createElement("label",{className:"mr-2 w-[180px]"},"Country",n().createElement("span",{className:"text-red-500"},"*")),n().createElement("input",{name:"country",className:"border-1 rounded px-2 py-1",placeholder:"Enter Country Name",type:"text",onChange:c}))),n().createElement("button",{type:"submit",className:" rounded text-white py-2 px-4 font-semibold bg-green-500"},"Save Address"))))},b=()=>{const{seller:e}=(0,r.w1)((e=>e.seller)),[t,a]=(0,l.useState)(!0),[s,c]=(0,l.useState)([]),[p,u]=(0,l.useState)(!1),[b,N]=(0,l.useState)(!1),[x,y]=(0,l.useState)({});return(0,l.useEffect)((()=>{y(null==e?void 0:e.pickupLocation),async function(){try{const{data:t}=await m.c.get("".concat(d.Yb,"/shipping/getPickupLocations/").concat(e._id));c(t.locations),a(!1)}catch(e){a(!1),o.cp.error(e.response.data.message)}}()}),[e]),n().createElement(n().Fragment,null,t?n().createElement(i.c,null):n().createElement(n().Fragment,null,(null==s?void 0:s.length)>0?n().createElement("div",{className:"w-full mx-6 my-6"},n().createElement("div",{className:"w-full"},n().createElement("div",{className:"flex justify-end"},n().createElement("button",{className:" rounded text-white py-2 px-4 font-semibold bg-blue-500",onClick:()=>N(!0)},"Add New Pickup Location"),n().createElement(E,{show:b,onHide:()=>N(!1)})),n().createElement("div",{className:"w-full rounded my-2 bg-[#f4f4f4] p-4 flex justify-between"},n().createElement("p",{className:"text-xs font-semibold mb-0 "},"Address Nickname"),n().createElement("p",{className:"text-xs font-semibold mb-0 "},"Address Details"),n().createElement("p",{className:"text-xs font-semibold mb-0 "},"Contact Info")),n().createElement("div",null,null==s?void 0:s.map(((e,t)=>n().createElement("div",{className:"w-full rounded my-2 bg-[#f4f4f4] p-4 "},n().createElement("div",{key:t,className:"flex justify-between"},n().createElement("div",{className:"order-detail flex h-fit  width"},n().createElement("input",{type:"radio",className:"mr-2 w-[20px]",value:x,onChange:()=>y(e),checked:(null==x?void 0:x.pickup_location)===e.pickup_location}),n().createElement("p",{className:"text-xs mb-0"},null==e?void 0:e.pickup_location)),n().createElement("div",{className:"package width"},n().createElement("p",{className:"text-xs mb-1"},null==e?void 0:e.address),(null==e?void 0:e.address2)&&n().createElement("p",{className:"text-xs mb-1"},null==e?void 0:e.address2),n().createElement("p",{className:"text-xs mb-1"},null==e?void 0:e.city),n().createElement("p",{className:"text-xs mb-1"},null==e?void 0:e.state),n().createElement("p",{className:"text-xs mb-1"},null==e?void 0:e.pin_code),n().createElement("p",{className:"text-xs mb-1"},null==e?void 0:e.country)),n().createElement("div",{className:"customer-detail width"},n().createElement("p",{className:"text-xs mb-1"},null==e?void 0:e.name),n().createElement("p",{className:"text-xs mb-1"},null==e?void 0:e.phone),n().createElement("p",{className:"text-xs mb-1"},null==e?void 0:e.email))))))),p?n().createElement("button",{className:" py-2 px-4 font-semibold text-white rounded bg-blue-500"},"Loading..."):n().createElement("button",{className:" py-2 px-4 font-semibold text-white rounded bg-blue-500",onClick:async t=>{t.preventDefault(),u(!0);try{const t=e._id;await m.c.post("".concat(d.Yb,"/shipping/set-default-pickup"),{selectedLocation:x,sellerID:t}),u(!1),o.cp.success("Updated default Shop Pickup Address")}catch(e){u(!1),o.cp.error(e.response.data.message)}}},"Submit"))):n().createElement("p",null,"No Pickup Address Added")))};var N=a(93736);const x=()=>n().createElement("div",null,n().createElement(s.c,null),n().createElement("div",{className:"flex justify-between w-full dasboard-user-width-mobile"},n().createElement("div",{className:"800px:w-[330px] dashboard-side-bar-res"},n().createElement(c.c,{active:20})),n().createElement("div",{className:"w-full justify-center flex dashboard-side-bar-data-view"},n().createElement(b,{active:24}))),n().createElement(N.c,null))}}]);