"use strict";(self.webpackChunkecom=self.webpackChunkecom||[]).push([[8771],{87804:(e,t,a)=>{a.d(t,{c:()=>m});var n=a(32602),l=a(11504),s=a.n(l),r=a(66564),c=a(96800),d=a(85976),o=a(85704),i=a(89340);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p.apply(this,arguments)}const m=e=>{const[t,a]=(0,l.useState)([]),[m,u]=(0,l.useState)([]),[h,g]=(0,l.useState)([]),{seller:y}=(0,c.w1)((e=>e.seller)),v=(0,d.U)();(0,l.useEffect)((()=>{a(e.orderItems);const t=e.orderProducts.map((e=>({height:e.packageHeight,length:e.packageLength,width:e.packageWidth,weight:e.packageWeight,SKU:e.SKU})));Promise.all(t.map((async e=>e))).then((e=>{g(e)}))}),[e]);const x=(e,n)=>{const{name:l,value:s}=e.target,r=[...t],c={...r[n]};"name"===l?c.name=s:"channel_sku"===l?c.channel_sku=s:"quantity"===l?c.quantity=s:"product_cost"===l&&(c.product_cost=s),r[n]={...c},a(r)};return s().createElement(n.c,p({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"mo"}),s().createElement(n.c.Header,{closeButton:!0},s().createElement(n.c.Title,{id:"contained-modal-title-vcenter"},"Return Order Details")),s().createElement(n.c.Body,null,s().createElement("form",null,null==t?void 0:t.map(((e,a)=>s().createElement("div",{className:"flex w-full justify-between items-center border-b-2 pb-2"},s().createElement("div",{className:"w-4/12 px-2"},s().createElement("div",{className:"flex flex-col "},s().createElement("label",null,"SKU"),s().createElement("input",{type:"text",name:"channel_sku",value:e.channel_sku,className:"border-2 rounded my-2 h-[30px] px-2",onChange:e=>{x(e,a)},readOnly:!0})),s().createElement("div",{className:"flex flex-col"},s().createElement("label",null,"Name"),s().createElement("input",{type:"text",name:"name",value:e.name,className:"border-2 rounded my-2 h-[30px] px-2",onChange:e=>{x(e,a)},readOnly:!0}))),s().createElement("div",{className:"w-4/12 px-2"},s().createElement("div",{className:"flex flex-col"},s().createElement("label",null,"Qty"),s().createElement("input",{type:"text",name:"quantity",value:e.quantity,className:"border-2 rounded my-2 h-[30px] px-2",onChange:e=>{x(e,a)},readOnly:!0})),s().createElement("div",{className:"flex flex-col"},s().createElement("label",null,"Price"),s().createElement("input",{type:"text",name:"product_cost",value:e.product_cost,className:"border-2 rounded my-2 h-[30px] px-2",onChange:e=>{x(e,a)},readOnly:!0}))),s().createElement("div",{className:"w-2/12 flex flex-col"},m.includes(e)?s().createElement("button",{className:"bg-red-600 py-2 px-1 rounded text-white",onClick:e=>{((e,t)=>{e.preventDefault();const a=[...m].filter(((e,a)=>a!==t));u(a)})(e,a)}},"Unselect"):s().createElement("button",{style:{backgroundColor:null==v?void 0:v.mainColor,color:null==v?void 0:v.fontColor},className:" py-2 px-1 rounded text-white",onClick:e=>{((e,a)=>{e.preventDefault();const n=[...m];n[a]=t[a],u(n)})(e,a)}},"Select"))))),s().createElement("button",{onClick:async t=>{if(t.preventDefault(),m.length>0){const t=[];for(const e of m){const a=null==e?void 0:e.channel_sku,n=h.find((e=>(null==e?void 0:e.SKU)===a));n&&t.push({orderItem:e,dimension:n})}try{const a=y._id;await r.c.post("".concat(o.Yb,"/shipping/returnOrder"),{sellerID:a,orderDetails:e.orderDetails,selectedProducts:t,orderID:e.orderID}),i.cp.success("Shipment Order Canceled Successfully")}catch(e){i.cp.error(e.response.data.message)}}else i.cp.error("Select products to be returned")},style:{backgroundColor:null==v?void 0:v.mainColor,color:null==v?void 0:v.fontColor},className:" py-2 px-1 rounded text-white mt-3 w-[100px]"},"Submit"))))}},64824:(e,t,a)=>{a.d(t,{c:()=>h});var n=a(66564),l=a(11504),s=a.n(l),r=a(32602),c=a(96800),d=a(85976),o=a(85704),i=a(89340),p=a(91864),m=a(73467);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u.apply(this,arguments)}const h=e=>{const{seller:t}=(0,c.w1)((e=>e.seller)),a=(0,d.U)(),[h,g]=(0,l.useState)({});(0,l.useEffect)((()=>{var t,a,n,l,s,r,c,d,o,i;e.updateAddressType?g({order_id:null==e||null===(t=e.addressUpdatedData)||void 0===t?void 0:t.id,shipping_customer_name:null==e||null===(a=e.addressUpdatedData)||void 0===a?void 0:a.customer_name,shipping_phone:null==e||null===(n=e.addressUpdatedData)||void 0===n?void 0:n.customer_phone,shipping_address:null==e||null===(l=e.addressUpdatedData)||void 0===l?void 0:l.customer_address,shipping_address_2:null==e||null===(s=e.addressUpdatedData)||void 0===s?void 0:s.customer_address_2,shipping_city:null==e||null===(r=e.addressUpdatedData)||void 0===r?void 0:r.customer_city,shipping_state:null==e||null===(c=e.addressUpdatedData)||void 0===c?void 0:c.customer_state,shipping_country:null==e||null===(d=e.addressUpdatedData)||void 0===d?void 0:d.customer_country,shipping_pincode:null==e||null===(o=e.addressUpdatedData)||void 0===o?void 0:o.customer_pincode}):g({order_id:[null==e||null===(i=e.addressUpdatedData)||void 0===i?void 0:i.id],pickup_location:""})}),[e]);const y=e=>{const{name:t,value:a}=e.target;g({...h,[t]:a})},v=(0,c.OY)();return s().createElement(r.c,u({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),null!=e&&e.updateAddressType?s().createElement(s().Fragment,null,s().createElement(r.c.Header,{closeButton:!0},s().createElement(r.c.Title,{id:"contained-modal-title-vcenter"},"Customer Address Update")),s().createElement(r.c.Body,null,s().createElement("form",null,s().createElement("div",{className:"mb-2"},s().createElement("label",{className:"text-sm font-semibold w-[250px]"},"Shipping Customer Name",s().createElement("span",{className:"text-red-500"},"*")),s().createElement("input",{type:"text",name:"shipping_customer_name",className:"border-1 py-1 px-2 rounded text-sm",value:null==h?void 0:h.shipping_customer_name,onChange:y})),s().createElement("div",{className:"mb-2"},s().createElement("label",{className:"text-sm font-semibold w-[250px]"},"Shipping Customer Phone",s().createElement("span",{className:"text-red-500"},"*")),s().createElement("input",{type:"text",name:"shipping_phone",className:"border-1 py-1 px-2 rounded text-sm",value:null==h?void 0:h.shipping_phone,onChange:y})),s().createElement("div",{className:"mb-2"},s().createElement("label",{className:"text-sm font-semibold w-[250px]"},"Shipping Customer Address",s().createElement("span",{className:"text-red-500"},"*")),s().createElement("input",{type:"text",name:"shipping_address",className:"border-1 py-1 px-2 rounded text-sm",value:null==h?void 0:h.shipping_address,onChange:y})),s().createElement("div",{className:"mb-2"},s().createElement("label",{className:"text-sm font-semibold w-[250px]"},"Shipping Customer Address 2"),s().createElement("input",{type:"text",name:"shipping_address_2",className:"border-1 py-1 px-2 rounded text-sm",value:null==h?void 0:h.shipping_address_2,onChange:y})),s().createElement("div",{className:"mb-2"},s().createElement("label",{className:"text-sm font-semibold w-[250px]"},"Shipping Customer City",s().createElement("span",{className:"text-red-500"},"*")),s().createElement("input",{type:"text",name:"shipping_city",className:"border-1 py-1 px-2 rounded text-sm",value:null==h?void 0:h.shipping_city,onChange:y})),s().createElement("div",{className:"mb-2"},s().createElement("label",{className:"text-sm font-semibold w-[250px]"},"Shipping Customer State",s().createElement("span",{className:"text-red-500"},"*")),s().createElement("input",{type:"text",name:"shipping_state",className:"border-1 py-1 px-2 rounded text-sm",value:null==h?void 0:h.shipping_state,onChange:y})),s().createElement("div",{className:"mb-2"},s().createElement("label",{className:"text-sm font-semibold w-[250px]"},"Shipping Customer PinCode",s().createElement("span",{className:"text-red-500"},"*")),s().createElement("input",{type:"text",name:"shipping_pincode",className:"border-1 py-1 px-2 rounded text-sm",value:null==h?void 0:h.shipping_pincode,onChange:y})),s().createElement("div",{className:"mb-2"},s().createElement("label",{className:"text-sm font-semibold w-[250px]"},"Shipping Customer Country",s().createElement("span",{className:"text-red-500"},"*")),s().createElement("input",{type:"text",name:"shipping_country",className:"border-1 py-1 px-2 rounded text-sm",value:null==h?void 0:h.shipping_country,onChange:y}))))):s().createElement(s().Fragment,null,s().createElement(r.c.Header,{closeButton:!0},s().createElement(r.c.Title,{id:"contained-modal-title-vcenter"},"Pickup Address Update")),s().createElement(r.c.Body,null,s().createElement("form",null,s().createElement("form",null,s().createElement("div",{className:"mb-2"},s().createElement("label",{className:"text-sm font-semibold w-[250px]"},"Pickup Address Nick Name",s().createElement("span",{className:"text-red-500"},"*")),s().createElement("input",{type:"text",name:"pickup_location",className:"border-1 py-1 px-2 rounded text-sm",placeholder:"Eg : Primary",value:null==h?void 0:h.pickup_location,onChange:y})))))),s().createElement("div",null,s().createElement("button",{style:{backgroundColor:null==a?void 0:a.mainColor,color:null==a?void 0:a.fontColor},className:"py-2 ml-4 mb-4 w-[150px] text-white rounded",onClick:async a=>{if(a.preventDefault(),function(e){for(const t in e)if("shipping_address_2"!==t&&e.hasOwnProperty(t)&&!e[t])return!0;return!1}(h))i.cp.error("All fields are mandatory");else try{const a=t._id,l=e.updateAddressType;await n.c.post("".concat(o.Yb,"/shipping/update-delivery-address"),{sellerID:a,formData:h,addressType:l}),l?i.cp.success("Updated Customer Address"):i.cp.success("Updated Pickup Location"),v((0,p.At)(t._id)),v((0,m.g)(t._id))}catch(e){i.cp.error(e.response.data.message)}}},"Update")))}},38467:(e,t,a)=>{a.d(t,{c:()=>l});var n=a(85976);const l=()=>{const e=(0,n.U)(),t=null==e?void 0:e.currency;return{ConvertCurrency:e=>"INR"!==(null==t?void 0:t.code)?(e*(null==t?void 0:t.exchangeRate)).toFixed(2):e}}},91864:(e,t,a)=>{a.d(t,{At:()=>r,Ym:()=>s});var n=a(66564),l=a(85704);const s=e=>async t=>{try{t({type:"getAllOrdersUserRequest"});const{data:a}=await n.c.get("".concat(l.Yb,"/order/get-all-orders/").concat(e));t({type:"getAllOrdersUserSuccess",payload:a.orders})}catch(e){t({type:"getAllOrdersUserFailed",payload:e.response.data.message})}},r=e=>async t=>{try{t({type:"getAllOrdersShopRequest"});const{data:a}=await n.c.get("".concat(l.Yb,"/order/get-seller-all-orders/").concat(e));t({type:"getAllOrdersShopSuccess",payload:a.orders})}catch(e){t({type:"getAllOrdersShopFailed",payload:e.response.data.message})}}},73467:(e,t,a)=>{a.d(t,{g:()=>s,k:()=>r});var n=a(66564),l=a(85704);const s=e=>async t=>{try{t({type:"getAllShippingOrdersShopRequest"});const{data:a}=await n.c.get("".concat(l.Yb,"/shipping/seller-shipment-orders/").concat(e),{withCredentials:!0});t({type:"getAllShippingOrdersShopSuccess",payload:a.orders})}catch(e){t({type:"getAllShippingOrdersShopFailed",payload:e.response.data.message})}},r=e=>async t=>{try{t({type:"getAllReturnShippingOrdersShopRequest"});const{data:a}=await n.c.get("".concat(l.Yb,"/shipping/seller-return-shipment-orders/").concat(e),{withCredentials:!0});t({type:"getAllReturnShippingOrdersShopSuccess",payload:a.orders})}catch(e){t({type:"getAllReturnShippingOrdersShopFailed",payload:e.response.data.message})}}}}]);